var Y=Object.defineProperty,z=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var H=(o,t,e)=>t in o?Y(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,$=(o,t)=>{for(var e in t||(t={}))G.call(t,e)&&H(o,e,t[e]);if(T)for(var e of T(t))W.call(t,e)&&H(o,e,t[e]);return o},U=(o,t)=>z(o,A(t));import{d as g,D as j,j as s,C as D,o as v,z as k,h as _,g as u,H as x,E as B,G as J,f as c,I as R,r as b,c as h,b as y,p as F,q as E,x as w,J as q,y as K,K as Q,L as Z,M as ee,w as N,N as te,i as C,F as I,O as se,P as oe,Q as ne,R as re,t as L,S as V,l as P,T as ae,U as S,V as le,W as M,X as ue}from"./index.b56d9308.js";import{H as ce}from"./HPopover.20e5f95a.js";import{_ as ie}from"./HToggle.28eae9e7.js";import{l as de}from"./logo.0fab0ac6.js";const pe=c("span",{class:"text-sm font-bold"},"\u9000\u51FA\u767B\u5F55",-1),me=c("div",{class:"flex-1"},null,-1),ve=g({setup(o){j(r=>({"0980e35f":s(t).colorPrimary,"547d5674":s(t).colorWhite,"2e478dc6":s(t).colorPrimaryHover,"260f0b45":s(t).colorPrimaryActive}));const t=D(),e=async()=>R();return(r,n)=>(v(),k(J,{class:"signout-button cursor-pointer px-5",onClick:e},{default:_(()=>[pe,me,u(s(B),{name:s(x).PowerButton},null,8,["name"])]),_:1}))}}),fe={class:"mt-2"},_e=w(" \u66F4\u6539\u5BC6\u7801 "),he=w(" \u5FD8\u8BB0\u5BC6\u7801 "),ye=c("div",{class:"text-xs max-w-sm"},[w(" \u8FD0\u884C "),c("span",{class:"font-mono"},"pnpm resetpwd"),w(" \u91CD\u7F6E\u5BC6\u7801 ")],-1),ge=g({emits:["change-password"],setup(o,{emit:t}){const e=b(""),r=b(""),n=b(""),a=h(()=>r.value===n.value),l=h(()=>n.value?a.value?"":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u540C":""),f=h(()=>!!l.value||!e.value||!r.value||!n.value),p=()=>t("change-password",{oldPassword:e.value,newPassword:r.value});return(i,d)=>(v(),y("div",null,[u(s(F),{"attr-type":"password",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=m=>e.value=m),error:""},{prefix:_(()=>[u(s(B),{name:s(x).Lock},null,8,["name"])]),_:1},8,["modelValue"]),u(s(F),{"attr-type":"password",placeholder:"\u65B0\u5BC6\u7801",type:"secondary",modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=m=>r.value=m),error:s(l)},{prefix:_(()=>[u(s(B),{name:s(x).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),u(s(F),{"attr-type":"password",placeholder:"\u91CD\u590D\u65B0\u5BC6\u7801",type:"secondary",modelValue:n.value,"onUpdate:modelValue":d[2]||(d[2]=m=>n.value=m),error:s(l)},{prefix:_(()=>[u(s(B),{name:s(x).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),c("div",fe,[u(s(E),{class:"mr-2",disabled:s(f),onClick:p},{default:_(()=>[_e]),_:1},8,["disabled"]),u(s(E),{inverted:""},{default:_(()=>[he,u(s(ce),{position:"bottom-left"},{default:_(()=>[ye]),_:1})]),_:1})])]))}}),xe={class:"flex"},be=w("\u4FDD\u5B58"),Ce=g({emits:["change-username"],setup(o,{emit:t}){const e=b(""),r=h(()=>!e.value),n=()=>t("change-username",e.value);return(a,l)=>(v(),y("div",xe,[u(s(F),{class:"flex-1",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=f=>e.value=f)},{prefix:_(()=>[u(s(B),{name:s(x).Contact},null,8,["name"])]),_:1},8,["modelValue"]),u(s(E),{class:"ml-2",disabled:s(r),onClick:n},{default:_(()=>[be]),_:1},8,["disabled"])]))}}),we={class:"w-72"},$e=g({setup(o){const t=q(),e=K(),r=a=>{e.changePassword(a)},n=a=>{Z(a).then(()=>{t.notify({type:"success",title:"\u7528\u6237\u540D\u4FEE\u6539\u6210\u529F"}),e.getUsername()},l=>{t.notify({title:"\u7528\u6237\u540D\u4FEE\u6539\u5931\u8D25",desc:l.message,type:"error",duration:5e3})})};return(a,l)=>(v(),y("div",we,[u(Ce,{onChangeUsername:n}),u(Q,{class:"my-4"}),u(ge,{onChangePassword:r})]))}}),Be={class:""},Fe=w("\u4FDD\u5B58"),ke=g({setup(o){const t=ee(),e=b(t.settings.ui.editor.fontFamily);N(()=>t.settings.ui.editor.fontFamily,p=>{e.value=p});const r=()=>{t.settings.ui.editor.fontFamily=e.value,t.save().then(()=>{oe.notify({type:"success",title:"\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"})})},n=D(),a=te(),l=p=>{p?a.setTheme(ne):a.setTheme(re)},f=!1;return(p,i)=>(v(),y("div",Be,[c("div",{class:"text-lg mb-2",style:C({color:s(n).textColorPrimary})}," \u7F16\u8F91\u5668 ",4),c("div",{class:"mb-2",style:C({color:s(n).textColorSecondary})},"\u5B57\u4F53",4),u(s(F),{class:"w-full font-mono",type:"secondary",modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=d=>e.value=d)},null,8,["modelValue"]),s(f)?(v(),y(I,{key:0},[c("div",{class:"text-lg my-2",style:C({color:s(n).textColorPrimary})}," \u989C\u8272 ",4),c("div",{class:"mb-2",style:C({color:s(n).textColorSecondary})}," \u6697\u9ED1\u6A21\u5F0F ",4),c("div",null,[u(s(ie),{active:s(n).isDark,"onUpdate:active":i[1]||(i[1]=d=>l(d))},null,8,["active"])])],64)):se("",!0),u(s(E),{class:"mt-8",onClick:r},{default:_(()=>[Fe]),_:1})]))}}),Ee="hexon",De="0.12.4-0",Ve="winwin2011 <yjh2011@live.com>",Se="GPL-3.0",Pe={release:"standard-version --releaseCommitMessageFormat='chore: release v{{currentTag}}' && pnpm build && git add . && git commit -m 'chore: build released'",prerelease:"standard-version --releaseCommitMessageFormat='chore: release v{{currentTag}}' --prerelease && pnpm build && git add . && git commit -m 'chore: build released'",build:"concurrently -p [{name}] -n 'server,client' -c 'green.bold,blue.bold' 'cd ./server && pnpm build' 'cd ./client && pnpm build' ",setup:"cd ./server && pnpm install -P && pnpm run setup",script:"cd ./server && pnpm script",resetpwd:"cd ./server && pnpm resetpwd",start:"cd ./server && pnpm start",prd:"cd ./server && pnpm prd","dev-init":"pnpm install && concurrently -p [{name}] -n 'server,client' -c 'green.bold,blue.bold' 'cd ./server && pnpm i' 'cd ./client && pnpm i' && cd ./server && pnpm run build && pnpm run setup",dev:"concurrently -p [{name}] -n 'server,client' -c 'green.bold,blue.bold' 'cd ./server && pnpm dev' 'cd ./client && pnpm dev' "},Te={concurrently:"^7.1.0","standard-version":"^9.3.2"};var He={name:Ee,version:De,private:!0,author:Ve,license:Se,scripts:Pe,devDependencies:Te};const Ue={class:"absolute"},Ne={flex:"","items-center":""},Ie=["src"],Le={flex:"","flex-col":""},Me=c("span",{"text-5xl":""},"Hexon",-1),Oe={"ml-2":""},Xe=c("span",{"text-sm":"",op50:""},"Made by winwin2011 with love.",-1),Ye=g({setup(o){const t=He.version;return(e,r)=>(v(),y("div",Ue,[c("div",Ne,[c("img",{h20:"",src:s(de)},null,8,Ie),c("div",Le,[c("div",null,[Me,c("span",Oe,L(`v${s(t)}`),1)]),Xe])])]))}});function ze(){const o=D(),t=[{type:"item",text:"\u7528\u6237",icon:x.Contact,color:o.value.colorSuccess,key:"user",comp:V($e)},{type:"item",text:"\u6837\u5F0F",icon:x.OEM,color:o.value.colorWarning,key:"style",comp:V(ke)},{type:"item",text:"\u5173\u4E8E",icon:x.Info,color:o.value.textColorSecondary,key:"about",comp:V(Ye)}],e=h(()=>t.map((n,a)=>$({idx:a},n)));function r(n){return e.value.find(a=>a.key===n)}return{config:e,getConfig:r}}const Ae=g({props:{direction:null,duration:{default:100}},setup(o){const t=o,e={up:{beforeEnter:{translateY:30},leave:{translateY:-30}},down:{beforeEnter:{translateY:-30},leave:{translateY:30}},left:{beforeEnter:{translateX:30},leave:{translateX:-30}},right:{beforeEnter:{translateX:-30},leave:{translateX:30}}};function r(l,f){S({targets:l,opacity:1,translateY:0,translateX:0,duration:t.duration,easing:"easeInOutSine",complete:f})}function n(l){S.set(l,$({opacity:0},e[t.direction].beforeEnter))}function a(l,f){S($({targets:l,opacity:0,duration:t.duration,easing:"easeInOutSine",complete:f},e[t.direction].leave))}return(l,f)=>(v(),k(ae,{onEnter:r,onBeforeEnter:n,onLeave:a},{default:_(()=>[P(l.$slots,"default")]),_:3}))}}),Ge={class:"relative w-full h-full overflow-hidden"},We=g({props:{current:null,model:null,horizontal:{type:Boolean,default:!1},reverted:{type:Boolean,default:!1}},emits:["update:current"],setup(o,{emit:t}){const e=o,r=h(()=>e.model.map((i,d)=>U($({},i),{idx:d}))),n=b(!1),a=b([]);N(()=>e.current,(i,d)=>{const m=r.value[i];!m||(a.value=[m],d!==void 0&&(n.value=i>d))},{immediate:!0});const l=i=>{t("update:current",i)},f=h(()=>e.reverted?!n.value:n.value),p=h(()=>e.horizontal?f.value?"left":"right":f.value?"up":"down");return(i,d)=>(v(),y("div",Ge,[u(Ae,{direction:s(p),duration:200},{default:_(()=>[(v(!0),y(I,null,le(a.value,m=>(v(),y("div",{class:"absolute w-full h-full overflow-hidden",key:m.idx},[P(i.$slots,"default",{component:m.component,idx:m.idx,setCurrent:l},()=>[(v(),k(M(m.component),{idx:m.idx,setCurrent:l},null,8,["idx"]))])]))),128))]),_:3},8,["direction"])]))}}),je={class:"p-8 w-full h-full overflow-auto"},Je={class:"py-4 text-2xl mb-2"},Re=g({props:{title:null},setup(o){return(t,e)=>(v(),y("div",je,[c("div",Je,L(o.title),1),P(t.$slots,"default")]))}}),qe=g({props:{current:null,model:null},setup(o){const t=o,e=h(()=>t.model.map(r=>({key:r.key,component:r.comp})));return(r,n)=>(v(),k(We,{model:s(e),current:o.current},{default:_(a=>[u(Re,{title:o.model[a.idx].title},{default:_(()=>[(v(),k(M(a.component)))]),_:2},1032,["title"])]),_:1},8,["model","current"]))}}),Ke={class:"h-full w-full flex rounded-md overflow-hidden"},Qe={style:{flex:"1 0 0","overflow-y":"auto"}},Ze={class:"pb-2 pl-4 pr-2"},rt=g({setup(o){const t=D(),e=b(0),{config:r,getConfig:n}=ze(),a=h(()=>[{type:"title",label:"\u8BBE\u7F6E"},...r.value.map(({type:p,text:i,icon:d,color:m,key:O},X)=>({type:p,text:i,icon:d,color:m,key:O,selected:e.value===X}))]),l=p=>{switch(p){case"user":case"style":case"about":const i=n(p).idx;e.value=i;break}},f=h(()=>r.value.map(({key:p,text:i,comp:d})=>({key:p,title:i,comp:d})));return(p,i)=>(v(),y("div",Ke,[c("div",{class:"w-48 flex-shrink-0 flex flex-col",style:C({backgroundColor:s(t).backgroundColorTertiary})},[c("div",Qe,[c("div",Ze,[u(s(ue),{model:s(a),onOnSelect:l},null,8,["model"])])]),u(ve)],4),c("div",{class:"flex-1 overflow-hidden relative",style:C({backgroundColor:s(t).backgroundColorSecondary})},[u(qe,{current:e.value,model:s(f)},null,8,["current","model"])],4)]))}});export{rt as default};
