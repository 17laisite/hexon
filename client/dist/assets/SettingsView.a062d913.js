var N=Object.defineProperty;var S=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var P=(s,o,t)=>o in s?N(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t,H=(s,o)=>{for(var t in o||(o={}))T.call(o,t)&&P(s,t,o[t]);if(S)for(var t of S(o))I.call(o,t)&&P(s,t,o[t]);return s};import{d as h,D as O,j as e,C as V,o as m,z as E,h as p,g as n,H as f,E as $,G as L,f as i,I as M,r as w,c as y,b as v,p as k,q as B,x as F,J as R,y as z,K as W,L as j,_ as D,M as q,w as G,N as J,i as g,F as K,O as Q,P as X,Q as Y,R as Z,S as b,t as ee,l as te,U as oe,V as se}from"./index.610507f6.js";import{H as ae}from"./HPopover.5f174972.js";import{_ as ne}from"./HToggle.c3c51eb2.js";import{_ as le}from"./HSlideView.6c3ee226.js";const ue=i("span",{class:"text-sm font-bold"},"\u9000\u51FA\u767B\u5F55",-1),re=i("div",{class:"flex-1"},null,-1),ce=h({setup(s){O(l=>({"0980e35f":e(o).colorPrimary,"547d5674":e(o).colorWhite,"2e478dc6":e(o).colorPrimaryHover,"260f0b45":e(o).colorPrimaryActive}));const o=V(),t=async()=>M();return(l,a)=>(m(),E(L,{class:"signout-button cursor-pointer px-5",onClick:t},{default:p(()=>[ue,re,n(e($),{name:e(f).PowerButton},null,8,["name"])]),_:1}))}}),ie={class:"mt-2"},de=F(" \u66F4\u6539\u5BC6\u7801 "),me=F(" \u5FD8\u8BB0\u5BC6\u7801 "),_e=i("div",{class:"text-xs max-w-sm"}," \u5C06 hexon/packages/server/data/common.db \u4E2D userinfo.password \u6539\u4E3A d033e22ae348aeb5660fc2140aec35850c4da997 \u5373\u53EF\u5C06\u5BC6\u7801\u91CD\u7F6E\u4E3A admin ",-1),pe=h({emits:["change-password"],setup(s,{emit:o}){const t=w(""),l=w(""),a=w(""),u=y(()=>l.value===a.value),d=y(()=>a.value?u.value?"":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u540C":""),x=y(()=>!!d.value||!t.value||!l.value||!a.value),r=()=>o("change-password",{oldPassword:t.value,newPassword:l.value});return(_,c)=>(m(),v("div",null,[n(e(k),{"attr-type":"password",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=C=>t.value=C),error:""},{prefix:p(()=>[n(e($),{name:e(f).Lock},null,8,["name"])]),_:1},8,["modelValue"]),n(e(k),{"attr-type":"password",placeholder:"\u65B0\u5BC6\u7801",type:"secondary",modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=C=>l.value=C),error:e(d)},{prefix:p(()=>[n(e($),{name:e(f).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),n(e(k),{"attr-type":"password",placeholder:"\u91CD\u590D\u65B0\u5BC6\u7801",type:"secondary",modelValue:a.value,"onUpdate:modelValue":c[2]||(c[2]=C=>a.value=C),error:e(d)},{prefix:p(()=>[n(e($),{name:e(f).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),i("div",ie,[n(e(B),{class:"mr-2",disabled:e(x),onClick:r},{default:p(()=>[de]),_:1},8,["disabled"]),n(e(B),{inverted:""},{default:p(()=>[me,n(e(ae),{position:"bottom-left"},{default:p(()=>[_e]),_:1})]),_:1})])]))}}),fe={class:"flex"},ve=F("\u4FDD\u5B58"),ye=h({emits:["change-username"],setup(s,{emit:o}){const t=w(""),l=y(()=>!t.value),a=()=>o("change-username",t.value);return(u,d)=>(m(),v("div",fe,[n(e(k),{class:"flex-1",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=x=>t.value=x)},{prefix:p(()=>[n(e($),{name:e(f).Contact},null,8,["name"])]),_:1},8,["modelValue"]),n(e(B),{class:"ml-2",disabled:e(l),onClick:a},{default:p(()=>[ve]),_:1},8,["disabled"])]))}}),he={class:"w-72"},xe=h({setup(s){const o=R(),t=z(),l=u=>{t.changePassword(u)},a=u=>{j(u).then(()=>{o.notify({type:"success",title:"\u7528\u6237\u540D\u4FEE\u6539\u6210\u529F"}),t.getUsername()},d=>{o.notify({title:"\u7528\u6237\u540D\u4FEE\u6539\u5931\u8D25",desc:d.message,type:"error",duration:5e3})})};return(u,d)=>(m(),v("div",he,[n(ye,{onChangeUsername:a}),n(W,{class:"my-4"}),n(pe,{onChangePassword:l})]))}}),Ce={},ge={class:"absolute"};function we(s,o){return m(),v("div",ge,"SecurityView")}var be=D(Ce,[["render",we]]);const $e={class:""},ke=F("\u4FDD\u5B58"),Be=h({setup(s){const o=q(),t=w(o.settings.ui.editor.fontFamily);G(()=>o.settings.ui.editor.fontFamily,r=>{t.value=r});const l=()=>{o.settings.ui.editor.fontFamily=t.value,o.save().then(()=>{X.notify({type:"success",title:"\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"})})},a=V(),u=J(),d=r=>{r?u.setTheme(Y):u.setTheme(Z)},x=!1;return(r,_)=>(m(),v("div",$e,[i("div",{class:"text-lg mb-2",style:g({color:e(a).textColorPrimary})}," \u7F16\u8F91\u5668 ",4),i("div",{class:"mb-2",style:g({color:e(a).textColorSecondary})},"\u5B57\u4F53",4),n(e(k),{class:"w-full font-mono",type:"secondary",modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=c=>t.value=c)},null,8,["modelValue"]),e(x)?(m(),v(K,{key:0},[i("div",{class:"text-lg my-2",style:g({color:e(a).textColorPrimary})}," \u989C\u8272 ",4),i("div",{class:"mb-2",style:g({color:e(a).textColorSecondary})}," \u6697\u9ED1\u6A21\u5F0F ",4),i("div",null,[n(e(ne),{active:e(a).isDark,"onUpdate:active":_[1]||(_[1]=c=>d(c))},null,8,["active"])])],64)):Q("",!0),n(e(B),{class:"mt-8",onClick:l},{default:p(()=>[ke]),_:1})]))}}),Ve={},Fe={class:"absolute"};function Ee(s,o){return m(),v("div",Fe,"AboutView")}var De=D(Ve,[["render",Ee]]);const Se={},Pe={class:"absolute"};function He(s,o){return m(),v("div",Pe,"HelpView")}var Ue=D(Se,[["render",He]]);function Ae(){const s=V(),o=[{type:"item",text:"\u7528\u6237",icon:f.Contact,color:s.value.colorSuccess,key:"user",comp:b(xe)},{type:"item",text:"\u5B89\u5168",icon:f.ReportHacked,color:s.value.colorPrimary,key:"security",comp:b(be)},{type:"item",text:"\u6837\u5F0F",icon:f.OEM,color:s.value.colorWarning,key:"style",comp:b(Be)},{type:"item",text:"\u5173\u4E8E",icon:f.Info,color:s.value.textColorSecondary,key:"about",comp:b(De)},{type:"item",text:"\u5E2E\u52A9",icon:f.EaseOfAccess,color:s.value.textColorSecondary,key:"help",comp:b(Ue)}],t=y(()=>o.map((a,u)=>H({idx:u},a)));function l(a){return t.value.find(u=>u.key===a)}return{config:t,getConfig:l}}const Ne={class:"p-8 w-full h-full overflow-auto"},Te={class:"py-4 text-2xl mb-2"},Ie=h({props:{title:null},setup(s){return(o,t)=>(m(),v("div",Ne,[i("div",Te,ee(s.title),1),te(o.$slots,"default")]))}}),Oe=h({props:{current:null,model:null},setup(s){const o=s,t=y(()=>o.model.map(l=>({key:l.key,component:l.comp})));return(l,a)=>(m(),E(le,{model:e(t),current:s.current},{default:p(u=>[n(Ie,{title:s.model[u.idx].title},{default:p(()=>[(m(),E(oe(u.component)))]),_:2},1032,["title"])]),_:1},8,["model","current"]))}}),Le={class:"h-full w-full flex rounded-md overflow-hidden"},Me={style:{flex:"1 0 0","overflow-y":"auto"}},Re={class:"pb-2 pl-4 pr-2"},Je=h({setup(s){const o=V(),t=w(0),{config:l,getConfig:a}=Ae(),u=y(()=>[{type:"title",label:"\u8BBE\u7F6E"},...l.value.map(({type:r,text:_,icon:c,color:C,key:U},A)=>({type:r,text:_,icon:c,color:C,key:U,selected:t.value===A}))]),d=r=>{switch(r){case"user":case"security":case"style":case"about":case"help":const _=a(r).idx;t.value=_;break}},x=y(()=>l.value.map(({key:r,text:_,comp:c})=>({key:r,title:_,comp:c})));return(r,_)=>(m(),v("div",Le,[i("div",{class:"w-48 flex-shrink-0 flex flex-col",style:g({backgroundColor:e(o).backgroundColorTertiary})},[i("div",Me,[i("div",Re,[n(e(se),{model:e(u),onOnSelect:d},null,8,["model"])])]),n(ce)],4),i("div",{class:"flex-1 overflow-hidden relative",style:g({backgroundColor:e(o).backgroundColorSecondary})},[n(Oe,{current:t.value,model:e(x)},null,8,["current","model"])],4)]))}});export{Je as default};
