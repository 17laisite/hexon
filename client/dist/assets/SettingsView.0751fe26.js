import{d as x,D as I,C as V,o as v,z as $,h as y,g as r,j as e,l as b,E as B,G as L,f as l,I as M,r as w,c as h,b as g,p as F,q as k,s as E,J as O,y as X,K as z,L as Y,M as A,w as T,N as G,i as C,F as j,O as W,P as q,Q as J,R,t as H,S as D,k as P,T as K,U as S,V as Q,W as U,X as Z}from"./index.ec69b494.js";import{H as ee}from"./HPopover.fb2da7c1.js";import{_ as te}from"./HToggle.4d2fe880.js";import{l as se}from"./logo.0fab0ac6.js";const oe=l("span",{class:"text-sm font-bold"},"\u9000\u51FA\u767B\u5F55",-1),ne=l("div",{class:"flex-1"},null,-1),ae=x({__name:"SignoutButton",setup(d){I(o=>({"0980e35f":e(t).colorPrimary,"547d5674":e(t).colorWhite,"2e478dc6":e(t).colorPrimaryHover,"260f0b45":e(t).colorPrimaryActive}));const t=V(),s=async()=>M();return(o,a)=>(v(),$(L,{class:"signout-button cursor-pointer px-5",onClick:s},{default:y(()=>[oe,ne,r(e(B),{name:e(b).PowerButton},null,8,["name"])]),_:1}))}}),re={class:"mt-2"},le=l("div",{class:"text-xs max-w-sm"},[k(" \u8FD0\u884C "),l("span",{class:"font-mono"},"pnpm resetpwd"),k(" \u91CD\u7F6E\u5BC6\u7801 ")],-1),ue=x({__name:"HChangePasswordForm",emits:["change-password"],setup(d,{emit:t}){const s=t,o=w(""),a=w(""),n=w(""),u=h(()=>a.value===n.value),c=h(()=>n.value?u.value?"":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u540C":""),i=h(()=>!!c.value||!o.value||!a.value||!n.value),_=()=>s("change-password",{oldPassword:o.value,newPassword:a.value});return(p,f)=>(v(),g("div",null,[r(e(F),{"attr-type":"password",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=m=>o.value=m),error:""},{prefix:y(()=>[r(e(B),{name:e(b).Lock},null,8,["name"])]),_:1},8,["modelValue"]),r(e(F),{"attr-type":"password",placeholder:"\u65B0\u5BC6\u7801",type:"secondary",modelValue:a.value,"onUpdate:modelValue":f[1]||(f[1]=m=>a.value=m),error:c.value},{prefix:y(()=>[r(e(B),{name:e(b).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),r(e(F),{"attr-type":"password",placeholder:"\u91CD\u590D\u65B0\u5BC6\u7801",type:"secondary",modelValue:n.value,"onUpdate:modelValue":f[2]||(f[2]=m=>n.value=m),error:c.value},{prefix:y(()=>[r(e(B),{name:e(b).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),l("div",re,[r(e(E),{class:"mr-2",disabled:i.value,onClick:_},{default:y(()=>[k(" \u66F4\u6539\u5BC6\u7801 ")]),_:1},8,["disabled"]),r(e(E),{inverted:""},{default:y(()=>[k(" \u5FD8\u8BB0\u5BC6\u7801 "),r(e(ee),{position:"bottom-left"},{default:y(()=>[le]),_:1})]),_:1})])]))}}),ie={class:"flex"},ce=x({__name:"HChangeUsernameForm",emits:["change-username"],setup(d,{emit:t}){const s=t,o=w(""),a=h(()=>!o.value),n=()=>s("change-username",o.value);return(u,c)=>(v(),g("div",ie,[r(e(F),{class:"flex-1",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=i=>o.value=i)},{prefix:y(()=>[r(e(B),{name:e(b).Contact},null,8,["name"])]),_:1},8,["modelValue"]),r(e(E),{class:"ml-2",disabled:a.value,onClick:n},{default:y(()=>[k("\u4FDD\u5B58")]),_:1},8,["disabled"])]))}}),de={class:"w-72"},pe=x({__name:"UserView",setup(d){const t=O(),s=X(),o=n=>{s.changePassword(n)},a=n=>{Y(n).then(()=>{t.notify({type:"success",title:"\u7528\u6237\u540D\u4FEE\u6539\u6210\u529F"}),s.getUsername()},u=>{t.notify({title:"\u7528\u6237\u540D\u4FEE\u6539\u5931\u8D25",desc:u.message,type:"error",duration:5e3})})};return(n,u)=>(v(),g("div",de,[r(ce,{onChangeUsername:a}),r(z,{class:"my-4"}),r(ue,{onChangePassword:o})]))}}),me={class:""},ve=x({__name:"StyleView",setup(d){const t=A(),s=w(t.settings.ui.editor.fontFamily);T(()=>t.settings.ui.editor.fontFamily,i=>{s.value=i});const o=()=>{t.settings.ui.editor.fontFamily=s.value,t.save().then(()=>{q.notify({type:"success",title:"\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"})})},a=V(),n=G(),u=i=>{i?n.setTheme(J):n.setTheme(R)},c=!1;return(i,_)=>(v(),g("div",me,[l("div",{class:"text-lg mb-2",style:C({color:e(a).textColorPrimary})}," \u7F16\u8F91\u5668 ",4),l("div",{class:"mb-2",style:C({color:e(a).textColorSecondary})},"\u5B57\u4F53",4),r(e(F),{class:"w-full font-mono",type:"secondary",modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=p=>s.value=p)},null,8,["modelValue"]),e(c)?(v(),g(j,{key:0},[l("div",{class:"text-lg my-2",style:C({color:e(a).textColorPrimary})}," \u989C\u8272 ",4),l("div",{class:"mb-2",style:C({color:e(a).textColorSecondary})}," \u6697\u9ED1\u6A21\u5F0F ",4),l("div",null,[r(e(te),{active:e(a).isDark,"onUpdate:active":_[1]||(_[1]=p=>u(p))},null,8,["active"])])],64)):W("",!0),r(e(E),{class:"mt-8",onClick:o},{default:y(()=>[k("\u4FDD\u5B58")]),_:1})]))}}),_e="hexon",fe="0.12.7",ye="winwin2011 <yjh2011@live.com>",he="GPL-3.0",ge={release:"standard-version --releaseCommitMessageFormat='chore: release v{{currentTag}}' && pnpm build && git add . && git commit -m 'chore: build released'",prerelease:"standard-version --releaseCommitMessageFormat='chore: release v{{currentTag}}' --prerelease && pnpm build && git add . && git commit -m 'chore: build released'",build:"pnpm -r exec npm run build",setup:"pnpm install -P && cd ./server-scripts && node ./bin/index.js install",script:"cd ./server-scripts && node ./bin/index.js script",resetpwd:"cd ./server-scripts && node ./bin/index.js resetpwd",start:"cd ./server && pnpm start",prd:"cd ./server && pnpm prd","dev-init":"pnpm install && pnpm run build && cd ./server-scripts && node ./bin/index.js install",dev:"concurrently -p [{name}] -n 'server,client' -c 'green.bold,blue.bold' 'cd ./server && pnpm dev' 'cd ./client && pnpm dev' ","test:fresh-install":"bash ./scripts/fresh_installation.test.sh"},xe={"@types/http-errors":"^2.0.4","@types/animejs":"^3.1.12","@types/basic-auth":"^1.1.8","@types/color":"^3.0.6","@types/color-convert":"^2.0.3","@types/crypto-js":"^4.2.2","@types/debug":"^4.1.12","@types/faker":"^6.6.9","@types/hexo":"^3.8.12","@types/inquirer":"^8.2.10","@types/jest":"^27.5.2","@types/js-yaml":"^4.0.9","@types/jsonwebtoken":"^8.5.9","@types/koa":"^2.15.0","@types/koa__cors":"^3.3.1","@types/koa__router":"^8.0.11","@types/koa-bodyparser":"^4.3.12","@types/koa-compress":"^4.0.6","@types/koa-logger":"^3.1.5","@types/koa-mount":"^4.0.5","@types/koa-router":"^7.4.8","@types/koa-static":"^4.0.4","@types/koa2-cors":"^2.0.5","@types/lodash-es":"^4.17.12","@types/node":"^17.0.45","@types/uuid":"^8.3.4","@types/ws":"^8.5.10","@unocss/preset-attributify":"^0.33.5","@unocss/preset-uno":"^0.33.5","@unocss/reset":"^0.33.5","@unocss/transformer-directives":"^0.33.5","@vicons/fluent":"^0.12.0","@vicons/utils":"^0.1.4","@vitejs/plugin-vue":"^2.3.4","@vue/compiler-sfc":"^3.4.25","@vue/test-utils":"^2.4.5",autoprefixer:"^10.4.19","babel-loader":"^8.3.0",concurrently:"^7.6.0",esbuild:"^0.14.54","esbuild-plugin-node-externals":"^0.3.0",eslint:"^8.57.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1",faker:"^6.6.6",jest:"^27.5.1",jsdom:"^19.0.0",less:"^4.2.0","less-loader":"^10.2.0","naive-ui":"^2.38.1",nodemon:"^2.0.22",picocolors:"^1.0.0",postcss:"^8.4.38",prettier:"^2.8.8",rimraf:"^3.0.2","rollup-plugin-visualizer":"^5.12.0","standard-version":"^9.5.0",stylus:"^0.57.0","ts-jest":"^27.1.5","tsconfig-paths":"^3.15.0",typescript:"^4.9.5",unocss:"^0.33.5",vite:"^2.9.18","vite-plugin-pages":"^0.22.0","vite-plugin-vue-layouts":"^0.6.0","vue-tsc":"^2.0.14"};var be={name:_e,version:fe,private:!0,author:ye,license:he,scripts:ge,devDependencies:xe};const we={class:"absolute"},Ce={flex:"","items-center":""},ke=["src"],Be={flex:"","flex-col":""},Fe=l("span",{"text-5xl":""},"Hexon",-1),$e={"ml-2":""},Ee=l("span",{"text-sm":"",op50:""},"Made by winwin2011 with love.",-1),Ve=x({__name:"AboutView",setup(d){const t=be.version;return(s,o)=>(v(),g("div",we,[l("div",Ce,[l("img",{h20:"",src:e(se)},null,8,ke),l("div",Be,[l("div",null,[Fe,l("span",$e,H(`v${e(t)}`),1)]),Ee])])]))}});function De(){const d=V(),t=[{type:"item",text:"\u7528\u6237",icon:b.Contact,color:d.value.colorSuccess,key:"user",comp:D(pe)},{type:"item",text:"\u6837\u5F0F",icon:b.OEM,color:d.value.colorWarning,key:"style",comp:D(ve)},{type:"item",text:"\u5173\u4E8E",icon:b.Info,color:d.value.textColorSecondary,key:"about",comp:D(Ve)}],s=h(()=>t.map((a,n)=>({idx:n,...a})));function o(a){return s.value.find(n=>n.key===a)}return{config:s,getConfig:o}}const Se=x({__name:"TranslateTransitionGroup",props:{direction:{},duration:{default:100}},setup(d){const t=d,s={up:{beforeEnter:{translateY:30},leave:{translateY:-30}},down:{beforeEnter:{translateY:-30},leave:{translateY:30}},left:{beforeEnter:{translateX:30},leave:{translateX:-30}},right:{beforeEnter:{translateX:-30},leave:{translateX:30}}};function o(u,c){S({targets:u,opacity:1,translateY:0,translateX:0,duration:t.duration,easing:"easeInOutSine",complete:c})}function a(u){S.set(u,{opacity:0,...s[t.direction].beforeEnter})}function n(u,c){S({targets:u,opacity:0,duration:t.duration,easing:"easeInOutSine",complete:c,...s[t.direction].leave})}return(u,c)=>(v(),$(K,{onEnter:o,onBeforeEnter:a,onLeave:n},{default:y(()=>[P(u.$slots,"default")]),_:3}))}}),Pe={class:"relative w-full h-full overflow-hidden"},Te=x({__name:"HSlideView",props:{current:{},model:{},horizontal:{type:Boolean,default:!1},reverted:{type:Boolean,default:!1}},emits:["update:current"],setup(d,{emit:t}){const s=d,o=t,a=h(()=>s.model.map((p,f)=>({...p,idx:f}))),n=w(!1),u=w([]);T(()=>s.current,(p,f)=>{const m=a.value[p];!m||(u.value=[m],f!==void 0&&(n.value=p>f))},{immediate:!0});const c=p=>{o("update:current",p)},i=h(()=>s.reverted?!n.value:n.value),_=h(()=>s.horizontal?i.value?"left":"right":i.value?"up":"down");return(p,f)=>(v(),g("div",Pe,[r(Se,{direction:_.value,duration:200},{default:y(()=>[(v(!0),g(j,null,Q(u.value,m=>(v(),g("div",{class:"absolute w-full h-full overflow-hidden",key:m.idx},[P(p.$slots,"default",{component:m.component,idx:m.idx,setCurrent:c},()=>[(v(),$(U(m.component),{idx:m.idx,setCurrent:c},null,8,["idx"]))])]))),128))]),_:3},8,["direction"])]))}}),je={class:"p-8 w-full h-full overflow-auto"},He={class:"py-4 text-2xl mb-2"},Ue=x({__name:"SettingsTabContainer",props:{title:{}},setup(d){return(t,s)=>(v(),g("div",je,[l("div",He,H(t.title),1),P(t.$slots,"default")]))}}),Ne=x({__name:"TabSwitcher",props:{current:{},model:{}},setup(d){const t=d,s=h(()=>t.model.map(o=>({key:o.key,component:o.comp})));return(o,a)=>(v(),$(Te,{model:s.value,current:o.current},{default:y(n=>[r(Ue,{title:o.model[n.idx].title},{default:y(()=>[(v(),$(U(n.component)))]),_:2},1032,["title"])]),_:1},8,["model","current"]))}}),Ie={class:"h-full w-full flex rounded-md overflow-hidden"},Le={style:{flex:"1 0 0","overflow-y":"auto"}},Me={class:"pb-2 pl-4 pr-2"},Ae=x({__name:"SettingsView",setup(d){const t=V(),s=w(0),{config:o,getConfig:a}=De(),n=h(()=>[{type:"title",label:"\u8BBE\u7F6E"},...o.value.map(({type:i,text:_,icon:p,color:f,key:m},N)=>({type:i,text:_,icon:p,color:f,key:m,selected:s.value===N}))]),u=i=>{switch(i){case"user":case"style":case"about":const _=a(i).idx;s.value=_;break}},c=h(()=>o.value.map(({key:i,text:_,comp:p})=>({key:i,title:_,comp:p})));return(i,_)=>(v(),g("div",Ie,[l("div",{class:"w-48 flex-shrink-0 flex flex-col",style:C({backgroundColor:e(t).backgroundColorTertiary})},[l("div",Le,[l("div",Me,[r(e(Z),{model:n.value,onOnSelect:u},null,8,["model"])])]),r(ae)],4),l("div",{class:"flex-1 overflow-hidden relative",style:C({backgroundColor:e(t).backgroundColorSecondary})},[r(Ne,{current:s.value,model:c.value},null,8,["current","model"])],4)]))}});export{Ae as default};
