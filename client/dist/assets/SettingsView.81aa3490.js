var Y=Object.defineProperty,z=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var U=(s,e,t)=>e in s?Y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,b=(s,e)=>{for(var t in e||(e={}))R.call(e,t)&&U(s,t,e[t]);if(T)for(var t of T(e))W.call(e,t)&&U(s,t,e[t]);return s},A=(s,e)=>z(s,M(e));import{d as g,D as G,j as o,C as F,o as d,z as k,h as _,g as u,H as x,E,G as j,f as v,I as q,r as C,c as h,b as y,p as B,q as V,x as D,J,y as K,K as Q,L as Z,_ as P,M as ee,w as N,N as te,i as w,F as I,O as oe,P as se,Q as ae,R as ne,S as $,l as H,T as re,U as S,V as le,W as O,t as ue,X as ce}from"./index.2c512b66.js";import{H as ie}from"./HPopover.c15d5db0.js";import{_ as de}from"./HToggle.8d9c8359.js";const me=v("span",{class:"text-sm font-bold"},"\u9000\u51FA\u767B\u5F55",-1),pe=v("div",{class:"flex-1"},null,-1),fe=g({setup(s){G(n=>({"0980e35f":o(e).colorPrimary,"547d5674":o(e).colorWhite,"2e478dc6":o(e).colorPrimaryHover,"260f0b45":o(e).colorPrimaryActive}));const e=F(),t=async()=>q();return(n,a)=>(d(),k(j,{class:"signout-button cursor-pointer px-5",onClick:t},{default:_(()=>[me,pe,u(o(E),{name:o(x).PowerButton},null,8,["name"])]),_:1}))}}),_e={class:"mt-2"},ve=D(" \u66F4\u6539\u5BC6\u7801 "),ye=D(" \u5FD8\u8BB0\u5BC6\u7801 "),he=v("div",{class:"text-xs max-w-sm"}," \u5C06 hexon/packages/server/data/common.db \u4E2D userinfo.password \u6539\u4E3A d033e22ae348aeb5660fc2140aec35850c4da997 \u5373\u53EF\u5C06\u5BC6\u7801\u91CD\u7F6E\u4E3A admin ",-1),xe=g({emits:["change-password"],setup(s,{emit:e}){const t=C(""),n=C(""),a=C(""),r=h(()=>n.value===a.value),l=h(()=>a.value?r.value?"":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u540C":""),f=h(()=>!!l.value||!t.value||!n.value||!a.value),m=()=>e("change-password",{oldPassword:t.value,newPassword:n.value});return(c,i)=>(d(),y("div",null,[u(o(B),{"attr-type":"password",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=p=>t.value=p),error:""},{prefix:_(()=>[u(o(E),{name:o(x).Lock},null,8,["name"])]),_:1},8,["modelValue"]),u(o(B),{"attr-type":"password",placeholder:"\u65B0\u5BC6\u7801",type:"secondary",modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=p=>n.value=p),error:o(l)},{prefix:_(()=>[u(o(E),{name:o(x).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),u(o(B),{"attr-type":"password",placeholder:"\u91CD\u590D\u65B0\u5BC6\u7801",type:"secondary",modelValue:a.value,"onUpdate:modelValue":i[2]||(i[2]=p=>a.value=p),error:o(l)},{prefix:_(()=>[u(o(E),{name:o(x).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),v("div",_e,[u(o(V),{class:"mr-2",disabled:o(f),onClick:m},{default:_(()=>[ve]),_:1},8,["disabled"]),u(o(V),{inverted:""},{default:_(()=>[ye,u(o(ie),{position:"bottom-left"},{default:_(()=>[he]),_:1})]),_:1})])]))}}),ge={class:"flex"},Ce=D("\u4FDD\u5B58"),we=g({emits:["change-username"],setup(s,{emit:e}){const t=C(""),n=h(()=>!t.value),a=()=>e("change-username",t.value);return(r,l)=>(d(),y("div",ge,[u(o(B),{class:"flex-1",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=f=>t.value=f)},{prefix:_(()=>[u(o(E),{name:o(x).Contact},null,8,["name"])]),_:1},8,["modelValue"]),u(o(V),{class:"ml-2",disabled:o(n),onClick:a},{default:_(()=>[Ce]),_:1},8,["disabled"])]))}}),be={class:"w-72"},$e=g({setup(s){const e=J(),t=K(),n=r=>{t.changePassword(r)},a=r=>{Z(r).then(()=>{e.notify({type:"success",title:"\u7528\u6237\u540D\u4FEE\u6539\u6210\u529F"}),t.getUsername()},l=>{e.notify({title:"\u7528\u6237\u540D\u4FEE\u6539\u5931\u8D25",desc:l.message,type:"error",duration:5e3})})};return(r,l)=>(d(),y("div",be,[u(we,{onChangeUsername:a}),u(Q,{class:"my-4"}),u(xe,{onChangePassword:n})]))}}),Ee={},Be={class:"absolute"};function ke(s,e){return d(),y("div",Be,"SecurityView")}var Ve=P(Ee,[["render",ke]]);const Fe={class:""},De=D("\u4FDD\u5B58"),Se=g({setup(s){const e=ee(),t=C(e.settings.ui.editor.fontFamily);N(()=>e.settings.ui.editor.fontFamily,m=>{t.value=m});const n=()=>{e.settings.ui.editor.fontFamily=t.value,e.save().then(()=>{se.notify({type:"success",title:"\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"})})},a=F(),r=te(),l=m=>{m?r.setTheme(ae):r.setTheme(ne)},f=!1;return(m,c)=>(d(),y("div",Fe,[v("div",{class:"text-lg mb-2",style:w({color:o(a).textColorPrimary})}," \u7F16\u8F91\u5668 ",4),v("div",{class:"mb-2",style:w({color:o(a).textColorSecondary})},"\u5B57\u4F53",4),u(o(B),{class:"w-full font-mono",type:"secondary",modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=i=>t.value=i)},null,8,["modelValue"]),o(f)?(d(),y(I,{key:0},[v("div",{class:"text-lg my-2",style:w({color:o(a).textColorPrimary})}," \u989C\u8272 ",4),v("div",{class:"mb-2",style:w({color:o(a).textColorSecondary})}," \u6697\u9ED1\u6A21\u5F0F ",4),v("div",null,[u(o(de),{active:o(a).isDark,"onUpdate:active":c[1]||(c[1]=i=>l(i))},null,8,["active"])])],64)):oe("",!0),u(o(V),{class:"mt-8",onClick:n},{default:_(()=>[De]),_:1})]))}}),Pe={},He={class:"absolute"};function Te(s,e){return d(),y("div",He,"AboutView")}var Ue=P(Pe,[["render",Te]]);const Ae={},Ne={class:"absolute"};function Ie(s,e){return d(),y("div",Ne,"HelpView")}var Oe=P(Ae,[["render",Ie]]);function Le(){const s=F(),e=[{type:"item",text:"\u7528\u6237",icon:x.Contact,color:s.value.colorSuccess,key:"user",comp:$($e)},{type:"item",text:"\u5B89\u5168",icon:x.ReportHacked,color:s.value.colorPrimary,key:"security",comp:$(Ve)},{type:"item",text:"\u6837\u5F0F",icon:x.OEM,color:s.value.colorWarning,key:"style",comp:$(Se)},{type:"item",text:"\u5173\u4E8E",icon:x.Info,color:s.value.textColorSecondary,key:"about",comp:$(Ue)},{type:"item",text:"\u5E2E\u52A9",icon:x.EaseOfAccess,color:s.value.textColorSecondary,key:"help",comp:$(Oe)}],t=h(()=>e.map((a,r)=>b({idx:r},a)));function n(a){return t.value.find(r=>r.key===a)}return{config:t,getConfig:n}}const Xe=g({props:{direction:null,duration:{default:100}},setup(s){const e=s,t={up:{beforeEnter:{translateY:30},leave:{translateY:-30}},down:{beforeEnter:{translateY:-30},leave:{translateY:30}},left:{beforeEnter:{translateX:30},leave:{translateX:-30}},right:{beforeEnter:{translateX:-30},leave:{translateX:30}}};function n(l,f){S({targets:l,opacity:1,translateY:0,translateX:0,duration:e.duration,easing:"easeInOutSine",complete:f})}function a(l){S.set(l,b({opacity:0},t[e.direction].beforeEnter))}function r(l,f){S(b({targets:l,opacity:0,duration:e.duration,easing:"easeInOutSine",complete:f},t[e.direction].leave))}return(l,f)=>(d(),k(re,{onEnter:n,onBeforeEnter:a,onLeave:r},{default:_(()=>[H(l.$slots,"default")]),_:3}))}}),Ye={class:"relative w-full h-full overflow-hidden"},ze=g({props:{current:null,model:null,horizontal:{type:Boolean,default:!1},reverted:{type:Boolean,default:!1}},emits:["update:current"],setup(s,{emit:e}){const t=s,n=h(()=>t.model.map((c,i)=>A(b({},c),{idx:i}))),a=C(!1),r=C([]);N(()=>t.current,(c,i)=>{const p=n.value[c];!p||(r.value=[p],i!==void 0&&(a.value=c>i))},{immediate:!0});const l=c=>{e("update:current",c)},f=h(()=>t.reverted?!a.value:a.value),m=h(()=>t.horizontal?f.value?"left":"right":f.value?"up":"down");return(c,i)=>(d(),y("div",Ye,[u(Xe,{direction:o(m),duration:200},{default:_(()=>[(d(!0),y(I,null,le(r.value,p=>(d(),y("div",{class:"absolute w-full h-full overflow-hidden",key:p.idx},[H(c.$slots,"default",{component:p.component,idx:p.idx,setCurrent:l},()=>[(d(),k(O(p.component),{idx:p.idx,setCurrent:l},null,8,["idx"]))])]))),128))]),_:3},8,["direction"])]))}}),Me={class:"p-8 w-full h-full overflow-auto"},Re={class:"py-4 text-2xl mb-2"},We=g({props:{title:null},setup(s){return(e,t)=>(d(),y("div",Me,[v("div",Re,ue(s.title),1),H(e.$slots,"default")]))}}),Ge=g({props:{current:null,model:null},setup(s){const e=s,t=h(()=>e.model.map(n=>({key:n.key,component:n.comp})));return(n,a)=>(d(),k(ze,{model:o(t),current:s.current},{default:_(r=>[u(We,{title:s.model[r.idx].title},{default:_(()=>[(d(),k(O(r.component)))]),_:2},1032,["title"])]),_:1},8,["model","current"]))}}),je={class:"h-full w-full flex rounded-md overflow-hidden"},qe={style:{flex:"1 0 0","overflow-y":"auto"}},Je={class:"pb-2 pl-4 pr-2"},tt=g({setup(s){const e=F(),t=C(0),{config:n,getConfig:a}=Le(),r=h(()=>[{type:"title",label:"\u8BBE\u7F6E"},...n.value.map(({type:m,text:c,icon:i,color:p,key:L},X)=>({type:m,text:c,icon:i,color:p,key:L,selected:t.value===X}))]),l=m=>{switch(m){case"user":case"security":case"style":case"about":case"help":const c=a(m).idx;t.value=c;break}},f=h(()=>n.value.map(({key:m,text:c,comp:i})=>({key:m,title:c,comp:i})));return(m,c)=>(d(),y("div",je,[v("div",{class:"w-48 flex-shrink-0 flex flex-col",style:w({backgroundColor:o(e).backgroundColorTertiary})},[v("div",qe,[v("div",Je,[u(o(ce),{model:o(r),onOnSelect:l},null,8,["model"])])]),u(fe)],4),v("div",{class:"flex-1 overflow-hidden relative",style:w({backgroundColor:o(e).backgroundColorSecondary})},[u(Ge,{current:t.value,model:o(f)},null,8,["current","model"])],4)]))}});export{tt as default};
