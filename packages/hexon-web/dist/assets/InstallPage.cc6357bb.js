var A=Object.defineProperty,G=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var S=(l,e,t)=>e in l?A(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,I=(l,e)=>{for(var t in e||(e={}))E.call(e,t)&&S(l,t,e[t]);if(g)for(var t of g(e))N.call(e,t)&&S(l,t,e[t]);return l},U=(l,e)=>G(l,M(e));var W=(l,e)=>{var t={};for(var n in l)E.call(l,n)&&e.indexOf(n)<0&&(t[n]=l[n]);if(l!=null&&g)for(var n of g(l))e.indexOf(n)<0&&N.call(l,n)&&(t[n]=l[n]);return t};var D=(l,e,t)=>(S(l,typeof e!="symbol"?e+"":e,t),t);import{X as Q,Y as q,U as K,b as i,d as w,c as y,r as x,Z as C,u as L,e as V,Q as P,o as O,f as $,l as d,h as F,j as H,p as u,x as k,w as _,q as Y,k as Z}from"./vendor.937a4e60.js";import{_ as B,a as m,H as f,r as J,b as T,i as ee,f as te}from"./index.1cf5a2d8.js";import{H as b}from"./HInput.630daf65.js";function le(l){return Q()?(q(l),!0):!1}const R=typeof window!="undefined";function ne(l){var e;const t=i(l);return(e=t==null?void 0:t.$el)!=null?e:t}const ae=R?window:void 0;R&&window.document;R&&window.navigator;var z=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,oe=(l,e)=>{var t={};for(var n in l)se.call(l,n)&&e.indexOf(n)<0&&(t[n]=l[n]);if(l!=null&&z)for(var n of z(l))e.indexOf(n)<0&&re.call(l,n)&&(t[n]=l[n]);return t};function ue(l,e,t={}){const n=t,{window:a=ae}=n,o=oe(n,["window"]);let s;const r=a&&"ResizeObserver"in a,v=()=>{s&&(s.disconnect(),s=void 0)},p=K(()=>ne(l),h=>{v(),r&&a&&h&&(s=new a.ResizeObserver(e),s.observe(h,o))},{immediate:!0,flush:"post"}),c=()=>{v(),p()};return le(c),{isSupported:r,stop:c}}var X;(function(l){l.UP="UP",l.RIGHT="RIGHT",l.DOWN="DOWN",l.LEFT="LEFT",l.NONE="NONE"})(X||(X={}));const ie=l=>{const e=x(0),t=y(()=>e.value===0),n=y(()=>e.value===l-1),a=()=>{l!==0&&(n.value||(e.value+=1))},o=()=>{t.value||(e.value-=1)};return{current:y(()=>e.value),next:a,prev:o,isFirst:t,isLast:n,total:l}},ce=w({name:"Stepper",setup(l,{slots:e}){var r;const t=((r=e.default)==null?void 0:r.call(e).length)||0,n=ie(t),a=x(null),o=x({width:0,height:0});ue(a,v=>{const p=v[0],{width:c,height:h}=p.contentRect;o.value={width:c,height:h}});const s=y(()=>n.current.value*o.value.width);return()=>{var p;const v=((p=e.default)==null?void 0:p.call(e,I({},n)))||[];return C("div",{style:{overflow:"hidden"}},C("div",{ref:a,style:{height:"100%",display:"flex",transform:`translateX(-${s.value}px)`,transition:"all 0.5s"}},v.map((c,h)=>{const j={height:"100%",flex:"0 0 100%"};return n.current.value-1<=h&&h<=n.current.value+1?C(c,{style:j}):C("div",{style:U(I({},j),{backgroundColor:"black"})})})))}}});class pe{constructor(){D(this,"fns",[])}sleep(e=0){return this.fns.push(()=>new Promise(t=>{setTimeout(t,e*1e3)})),this}exec(e){return this.fns.push(e),this}interval(e,t,n){this.exec(e);for(let a=0;a<n-1;a++)this.sleep(t),this.exec(e);return this}async start(){for(const e of this.fns)await e()}}const de={class:"install-welcome w-full h-full flex flex-col items-center justify-center select-none"},ve={class:"text-6xl relative font-light"},me=F(H("\u200B")),fe=F(" \u73B0\u5728\u5F00\u59CB "),_e=w({props:{next:null},setup(l){const e=l;L(p=>({"0ba28146":i(n).bgColor,"6b70448b":i(n).color}));const t=V(),n=y(()=>({bgColor:t.value.color.primary.n,color:t.value.color.white})),a=new pe;a.sleep(2.25),"Hexo".split("").map((p,c)=>{c>0&&a.sleep(.075),a.exec(()=>{o.value+=p})}),a.sleep(1.5)," online".split("").map((p,c)=>{c>0&&a.sleep(.075),a.exec(()=>{s.value+=p})}),a.sleep(1.5),a.interval(()=>{s.value=s.value.slice(0,s.value.length-1)},.05,7),a.interval(()=>{o.value=o.value.slice(0,o.value.length-1)},.05,4),a.sleep(.075),"Hexon".split("").map((p,c)=>{c>0&&a.sleep(.075),a.exec(()=>{o.value+=p})}),"line".split("").map((p,c)=>{c>0&&a.sleep(.075),a.exec(()=>{r.value+=p})}),a.sleep(1.5),a.interval(()=>{r.value=r.value.slice(0,r.value.length-1)},.25,4),a.sleep(1.5),a.exec(()=>{o.value+="."}),a.sleep(1.5),a.exec(()=>{v.value=1});const o=x(""),s=x(""),r=x("");P(()=>{a.start()});const v=x(0);return(p,c)=>(O(),$("div",de,[d("h1",ve,[F(H(o.value),1),d("span",null,H(s.value),1),d("span",null,H(r.value),1),me]),d("button",{class:"mt-11 transition-opacity",style:k(`opacity: ${v.value}`),onClick:c[0]||(c[0]=(...h)=>e.next&&e.next(...h))},[fe,u(f,{name:i(m).ChevronRight},null,8,["name"])],4)]))}});var he=B(_e,[["__scopeId","data-v-30b04da7"]]),xe="/assets/logo-invert.c5a6e5ca.svg";const ye=["onSubmit"],be={class:"flex mb-6"},we=["src"],ge={class:"inputs flex"},Ie={class:"mr-6 w-64"},Ce={class:"w-64"},Ve={class:"flex"},Oe=F(" \u5F00\u59CB\u5B89\u88C5 "),Fe=w({emits:["on-back","on-submit"],setup(l,{emit:e}){const t=x({username:"",password:"",password2:"",secret:J(),expiresIn:"1",refreshableIn:"7"}),n=()=>{e("on-submit",t.value)},a=V();return(o,s)=>(O(),$("form",{onSubmit:Y(n,["prevent"]),class:"h-install-form flex flex-col select-none"},[d("div",be,[d("div",{class:"text-3xl font-light flex-1",style:k({color:i(a).color.white})}," \u6B22\u8FCE\u4F7F\u7528 Hexon ",4),d("img",{src:i(xe),alt:"logo",class:"h-12 inline-block"},null,8,we)]),d("div",ge,[d("div",Ie,[u(b,{placeholder:"\u7528\u6237\u540D",modelValue:t.value.username,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value.username=r),class:"my-3",clearable:""},{prefix:_(()=>[u(f,{name:i(m).Contact},null,8,["name"])]),_:1},8,["modelValue"]),u(b,{placeholder:"\u5BC6\u7801",modelValue:t.value.password,"onUpdate:modelValue":s[1]||(s[1]=r=>t.value.password=r),attrType:"password",class:"my-3",clearable:""},{prefix:_(()=>[u(f,{name:i(m).Lock},null,8,["name"])]),_:1},8,["modelValue"]),u(b,{placeholder:"\u91CD\u590D\u8F93\u5165\u5BC6\u7801",modelValue:t.value.password2,"onUpdate:modelValue":s[2]||(s[2]=r=>t.value.password2=r),attrType:"password",class:"my-3",clearable:""},{prefix:_(()=>[u(f,{name:i(m).Lock},null,8,["name"])]),_:1},8,["modelValue"])]),d("div",Ce,[u(b,{placeholder:"\u5BC6\u94A5",modelValue:t.value.secret,"onUpdate:modelValue":s[3]||(s[3]=r=>t.value.secret=r),class:"my-3",clearable:""},{prefix:_(()=>[u(f,{name:i(m).PasswordKeyHide},null,8,["name"])]),_:1},8,["modelValue"]),u(b,{placeholder:"\u8FC7\u671F\u65F6\u95F4",modelValue:t.value.expiresIn,"onUpdate:modelValue":s[4]||(s[4]=r=>t.value.expiresIn=r),class:"my-3",attrType:"number",clearable:""},{prefix:_(()=>[u(f,{name:i(m).SetHistoryStatus},null,8,["name"])]),_:1},8,["modelValue"]),u(b,{placeholder:"\u8FC7\u671F\u65F6\u95F4",modelValue:t.value.refreshableIn,"onUpdate:modelValue":s[5]||(s[5]=r=>t.value.refreshableIn=r),class:"my-3",attrType:"number",clearable:""},{prefix:_(()=>[u(f,{name:i(m).SetHistoryStatus2},null,8,["name"])]),_:1},8,["modelValue"])])]),d("div",Ve,[u(T,{class:"mt-4 mr-4",round:"",onClick:s[6]||(s[6]=r=>e("on-back")),attrType:"button"},{default:_(()=>[u(f,{name:i(m).ChevronLeft},null,8,["name"])]),_:1}),u(T,{class:"mt-4 flex-1",attrType:"submit"},{default:_(()=>[Oe,u(f,{name:i(m).ChevronRight},null,8,["name"])]),_:1}),u(T,{class:"mt-4 ml-4",round:"",attrType:"button"},{default:_(()=>[u(f,{name:i(m).Help},null,8,["name"])]),_:1})])],40,ye))}});var He=B(Fe,[["__scopeId","data-v-464ee204"]]);const Se={class:"w-full h-full relative flex flex-col items-center justify-center"},$e=w({props:{prev:null},setup(l){const e=x(!1),t=async a=>{const r=a,{password2:o}=r,s=W(r,["password2"]);e.value=!0;try{await ee({username:s.username,password:s.password,secret:s.secret,expiresIn:s.expiresIn,refreshableIn:s.refreshableIn}),te()}catch(v){throw e.value=!1,v}},n=V();return(a,o)=>(O(),$("div",Se,[u(He,{onOnSubmit:t,onOnBack:l.prev},null,8,["onOnBack"]),d("div",{class:"absolute top-0 left-0 bottom-0 right-0 transition-opacity z-10 flex items-center justify-center text-4xl",style:k(I({backgroundColor:i(n).color.primary.n,opacity:e.value?.9:0},!e.value&&{pointerEvents:"none"}))},[u(f,{class:"rotating",name:i(m).Refresh},null,8,["name"])],4)]))}});const ke=w({setup(l){L(n=>({dac25b56:i(t).bgColor,"701b8d5a":i(t).color}));const e=V(),t=y(()=>({bgColor:e.value.color.primary.n,color:e.value.color.white}));return(n,a)=>(O(),Z(ce,{class:"install-page w-full h-full"},{default:_(o=>[u(he,{next:o==null?void 0:o.next},null,8,["next"]),u($e,{prev:o==null?void 0:o.prev},null,8,["prev"])]),_:1}))}});var Ee=B(ke,[["__scopeId","data-v-dff9578c"]]);export{Ee as default};
