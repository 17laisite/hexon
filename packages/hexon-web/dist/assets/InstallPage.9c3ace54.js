var R=Object.defineProperty;var b=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var H=(a,t,e)=>t in a?R(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,E=(a,t)=>{for(var e in t||(t={}))T.call(t,e)&&H(a,e,t[e]);if(b)for(var e of b(t))$.call(t,e)&&H(a,e,t[e]);return a};var D=(a,t)=>{var e={};for(var r in a)T.call(a,r)&&t.indexOf(r)<0&&(e[r]=a[r]);if(a!=null&&b)for(var r of b(a))t.indexOf(r)<0&&$.call(a,r)&&(e[r]=a[r]);return e};var j=(a,t,e)=>(H(a,typeof t!="symbol"?t+"":t,e),e);import{d as w,g as x,f as g,o as C,e as V,h as p,C as F,b as l,v as u,w as v,p as M,l as I,u as P,c as U,R as N,t as B,M as A}from"./vendor.b9a0263e.js";import{_ as k,x as Q,H as m,c as d,f as S,r as W,y as z,z as q,g as L}from"./index.2aa61a42.js";import{H as y}from"./HInput.dca26adb.js";import{_ as G}from"./HSlideView.4e63c42a.js";var O="/assets/logo-invert.c5a6e5ca.svg";const K=["onSubmit"],Y={class:"flex mb-6"},J=["src"],X={class:"inputs flex"},Z={class:"mr-6 w-64"},ee={class:"w-64"},le={class:"flex"},te=I(" \u5F00\u59CB\u5B89\u88C5 "),se=w({emits:["on-back","on-submit"],setup(a,{emit:t}){const e=x({username:"",password:"",password2:"",secret:Q(),expiresIn:"1",refreshableIn:"7"}),r=()=>{t("on-submit",e.value)},s=g();return(c,o)=>(C(),V("form",{onSubmit:M(r,["prevent"]),class:"h-install-form flex flex-col select-none"},[p("div",Y,[p("div",{class:"text-3xl font-light flex-1",style:F({color:l(s).color.white})}," \u6B22\u8FCE\u4F7F\u7528 Hexon ",4),p("img",{src:l(O),alt:"logo",class:"h-12 inline-block"},null,8,J)]),p("div",X,[p("div",Z,[u(l(y),{placeholder:"\u7528\u6237\u540D",modelValue:e.value.username,"onUpdate:modelValue":o[0]||(o[0]=n=>e.value.username=n),class:"my-3",clearable:""},{prefix:v(()=>[u(l(m),{name:l(d).Contact},null,8,["name"])]),_:1},8,["modelValue"]),u(l(y),{placeholder:"\u5BC6\u7801",modelValue:e.value.password,"onUpdate:modelValue":o[1]||(o[1]=n=>e.value.password=n),attrType:"password",class:"my-3",clearable:""},{prefix:v(()=>[u(l(m),{name:l(d).Lock},null,8,["name"])]),_:1},8,["modelValue"]),u(l(y),{placeholder:"\u91CD\u590D\u8F93\u5165\u5BC6\u7801",modelValue:e.value.password2,"onUpdate:modelValue":o[2]||(o[2]=n=>e.value.password2=n),attrType:"password",class:"my-3",clearable:""},{prefix:v(()=>[u(l(m),{name:l(d).Lock},null,8,["name"])]),_:1},8,["modelValue"])]),p("div",ee,[u(l(y),{placeholder:"\u5BC6\u94A5",modelValue:e.value.secret,"onUpdate:modelValue":o[3]||(o[3]=n=>e.value.secret=n),class:"my-3",clearable:""},{prefix:v(()=>[u(l(m),{name:l(d).PasswordKeyHide},null,8,["name"])]),_:1},8,["modelValue"]),u(l(y),{placeholder:"\u8FC7\u671F\u65F6\u95F4",modelValue:e.value.expiresIn,"onUpdate:modelValue":o[4]||(o[4]=n=>e.value.expiresIn=n),class:"my-3",attrType:"number",clearable:""},{prefix:v(()=>[u(l(m),{name:l(d).SetHistoryStatus},null,8,["name"])]),_:1},8,["modelValue"]),u(l(y),{placeholder:"\u8FC7\u671F\u65F6\u95F4",modelValue:e.value.refreshableIn,"onUpdate:modelValue":o[5]||(o[5]=n=>e.value.refreshableIn=n),class:"my-3",attrType:"number",clearable:""},{prefix:v(()=>[u(l(m),{name:l(d).SetHistoryStatus2},null,8,["name"])]),_:1},8,["modelValue"])])]),p("div",le,[u(l(S),{class:"mt-4 mr-4",round:"",onClick:o[6]||(o[6]=n=>t("on-back")),attrType:"button"},{default:v(()=>[u(l(m),{name:l(d).ChevronLeft},null,8,["name"])]),_:1}),u(l(S),{class:"mt-4 flex-1",attrType:"submit"},{default:v(()=>[te,u(l(m),{name:l(d).ChevronRight},null,8,["name"])]),_:1}),u(l(S),{class:"mt-4 ml-4",round:"",attrType:"button"},{default:v(()=>[u(l(m),{name:l(d).Help},null,8,["name"])]),_:1})])],40,K))}});var ae=k(se,[["__scopeId","data-v-2b871311"]]);const oe={class:"w-full h-full flex flex-col items-center justify-center"},ne=w({props:{idx:null,setCurrent:null},setup(a){const t=a,e=x(!1),r=W(),s=async n=>{const i=n,{password2:h}=i,f=D(i,["password2"]);e.value=!0;try{await z({username:f.username,password:f.password,secret:f.secret,expiresIn:f.expiresIn,refreshableIn:f.refreshableIn}),q()}catch{e.value=!1,r.create({type:"error",title:"\u5B89\u88C5\u5931\u8D25",content:"\u8BE6\u60C5\u8BF7\u67E5\u770B\u670D\u52A1\u7AEF\u5B89\u88C5\u65E5\u5FD7\uFF08PM2\uFF09\u3002\u6216\u8005\u4F60\u53EF\u4EE5\u5728 Github Issue \u6216 QQ \u7FA4\u6C42\u52A9\u3002",actions:[{type:"info",label:"Github",run:()=>{window.open("https://github.com/gethexon/hexon/issues","_blank")}},{type:"info",label:"QQ \u7FA4",run:()=>{window.open("https://jq.qq.com/?_wv=1027&k=WMYcPUiW","_blank")}}]})}},c=g(),o=()=>{t.setCurrent(t.idx-1)};return(n,h)=>(C(),V("div",oe,[u(ae,{onOnSubmit:s,onOnBack:o}),p("div",{class:"absolute top-0 left-0 bottom-0 right-0 transition-opacity z-10 flex items-center justify-center text-4xl",style:F(E({backgroundColor:l(c).color.primary.n,opacity:e.value?.9:0},!e.value&&{pointerEvents:"none"}))},[u(l(m),{class:"rotating",name:l(d).Refresh},null,8,["name"])],4)]))}});class ue{constructor(){j(this,"fns",[])}sleep(t=0){return this.fns.push(()=>new Promise(e=>{setTimeout(e,t*1e3)})),this}exec(t){return this.fns.push(t),this}interval(t,e,r){this.exec(t);for(let s=0;s<r-1;s++)this.sleep(e),this.exec(t);return this}async start(){for(const t of this.fns)await t()}}const re={class:"install-welcome w-full h-full flex flex-col items-center justify-center select-none"},ce={class:"text-6xl relative font-light"},ie=I(" "+B("\u200B")),pe=I(" \u73B0\u5728\u5F00\u59CB "),me=w({props:{idx:null,setCurrent:null},setup(a){const t=a;P(i=>({"3fec6887":l(r).bgColor,"07dd080c":l(r).color}));const e=g(),r=U(()=>({bgColor:e.value.color.primary.n,color:e.value.color.white})),s=new ue;s.sleep(2.25),"Hexo".split("").map((i,_)=>{_>0&&s.sleep(.075),s.exec(()=>{c.value+=i})}),s.sleep(1.5)," online".split("").map((i,_)=>{_>0&&s.sleep(.075),s.exec(()=>{o.value+=i})}),s.sleep(1.5),s.interval(()=>{o.value=o.value.slice(0,o.value.length-1)},.05,7),s.interval(()=>{c.value=c.value.slice(0,c.value.length-1)},.05,4),s.sleep(.075),"Hexon".split("").map((i,_)=>{_>0&&s.sleep(.075),s.exec(()=>{c.value+=i})}),"line".split("").map((i,_)=>{_>0&&s.sleep(.075),s.exec(()=>{n.value+=i})}),s.sleep(1.5),s.interval(()=>{n.value=n.value.slice(0,n.value.length-1)},.25,4),s.sleep(1.5),s.exec(()=>{c.value+="."}),s.sleep(1.5),s.exec(()=>{h.value=1});const c=x(""),o=x(""),n=x("");N(()=>{s.start()});const h=x(0),f=()=>{t.setCurrent(t.idx+1)};return(i,_)=>(C(),V("div",re,[p("h1",ce,[I(B(c.value)+" ",1),p("span",null,B(o.value),1),p("span",null,B(n.value),1),ie]),p("button",{class:"mt-11 transition-opacity",style:F(`opacity: ${h.value}`),onClick:f},[pe,u(l(m),{name:l(d).ChevronRight},null,8,["name"])],4)]))}});var de=k(me,[["__scopeId","data-v-4289111b"]]);const _e=w({setup(a){P(o=>({"61d3a742":l(e).bgColor,d32a8cf2:l(e).color}));const t=g(),e=U(()=>({bgColor:t.value.color.primary.n,color:t.value.color.white})),r=x(0),s=[{component:A(de)},{component:A(ne)}],c=L();return(o,n)=>(C(),V("div",{class:"h-full w-full",style:F({backgroundColor:l(c).colorPrimary})},[u(G,{model:s,current:r.value,"onUpdate:current":n[0]||(n[0]=h=>r.value=h),horizontal:""},null,8,["current"])],4))}});var be=k(_e,[["__scopeId","data-v-75964d8b"]]);export{be as default};
