var U=Object.defineProperty;var D=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var S=(s,o,e)=>o in s?U(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e,P=(s,o)=>{for(var e in o||(o={}))I.call(o,e)&&S(s,e,o[e]);if(D)for(var e of D(o))T.call(o,e)&&S(s,e,o[e]);return s};import{g as B,B as F,c as m,H as b,z as L,f as V,C as O,u as M,_ as $}from"./index.2aa61a42.js";import{d as w,u as R,b as t,o as l,k as E,w as i,v as n,h as p,g as C,c as y,e as f,l as H,M as g,t as W,r as z,N as q,C as A}from"./vendor.b9a0263e.js";import{_ as G}from"./HDivider.f5c16109.js";import{_ as J}from"./HNavList.d8b508fa.js";import{H as K}from"./HToolbar.c8d46fae.js";import{H as k}from"./HInput.dca26adb.js";import{H as Q}from"./HPopover.251571bd.js";import{_ as X}from"./HSlideView.4e63c42a.js";const Y=p("span",{class:"text-sm font-bold"},"\u9000\u51FA\u767B\u5F55",-1),Z=p("div",{class:"flex-1"},null,-1),ee=w({setup(s){R(r=>({"01ea83fe":t(o).colorPrimary,"03089125":t(o).colorWhite,"3e6db844":t(o).colorPrimaryHover,"2bbf78a4":t(o).colorPrimaryActive}));const o=B(),e=F(),a=async()=>{await e.signout(),L()};return(r,c)=>(l(),E(K,{class:"signout-button cursor-pointer px-5",onClick:a},{default:i(()=>[Y,Z,n(t(b),{name:t(m).PowerButton},null,8,["name"])]),_:1}))}}),oe={class:"mt-2"},te=H(" \u66F4\u6539\u5BC6\u7801 "),se=H(" \u5FD8\u8BB0\u5BC6\u7801 "),ae=p("div",{class:"text-xs max-w-sm"}," \u5C06 hexon/packages/server/data/common.db \u4E2D userinfo.password \u6539\u4E3A d033e22ae348aeb5660fc2140aec35850c4da997 \u5373\u53EF\u5C06\u5BC6\u7801\u91CD\u7F6E\u4E3A admin ",-1),ne=w({emits:["change-password"],setup(s,{emit:o}){const e=C(""),a=C(""),r=C(""),c=y(()=>a.value===r.value),u=y(()=>r.value?c.value?"":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u540C":""),v=y(()=>!!u.value||!e.value||!a.value||!r.value),_=()=>o("change-password",{oldPassword:e.value,newPassword:a.value});return(h,d)=>(l(),f("div",null,[n(t(k),{"attr-type":"password",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=x=>e.value=x),error:""},{prefix:i(()=>[n(t(b),{name:t(m).Lock},null,8,["name"])]),_:1},8,["modelValue"]),n(t(k),{"attr-type":"password",placeholder:"\u65B0\u5BC6\u7801",type:"secondary",modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=x=>a.value=x),error:t(u)},{prefix:i(()=>[n(t(b),{name:t(m).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),n(t(k),{"attr-type":"password",placeholder:"\u91CD\u590D\u65B0\u5BC6\u7801",type:"secondary",modelValue:r.value,"onUpdate:modelValue":d[2]||(d[2]=x=>r.value=x),error:t(u)},{prefix:i(()=>[n(t(b),{name:t(m).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),p("div",oe,[n(t(V),{class:"mr-2",disabled:t(v),onClick:_},{default:i(()=>[te]),_:1},8,["disabled"]),n(t(V),{inverted:""},{default:i(()=>[se,n(t(Q),{position:"bottom-left"},{default:i(()=>[ae]),_:1})]),_:1})])]))}}),re={class:"flex"},ce=H("\u4FDD\u5B58"),ue=w({emits:["change-username"],setup(s,{emit:o}){const e=C(""),a=y(()=>!e.value),r=()=>o("change-username",e.value);return(c,u)=>(l(),f("div",re,[n(t(k),{class:"flex-1",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=v=>e.value=v)},{prefix:i(()=>[n(t(b),{name:t(m).Contact},null,8,["name"])]),_:1},8,["modelValue"]),n(t(V),{class:"ml-2",disabled:t(a),onClick:r},{default:i(()=>[ce]),_:1},8,["disabled"])]))}}),le={class:"w-72"},ie=w({setup(s){const o=F(),e=O(),a=M(),r=u=>{a.changePassword(u)},c=u=>{o.changeUsername(u).then(()=>{e.notify({type:"success",title:"\u7528\u6237\u540D\u4FEE\u6539\u6210\u529F"}),a.getUsername()},v=>{e.notify({title:"\u7528\u6237\u540D\u4FEE\u6539\u5931\u8D25",desc:v.message,type:"error",duration:5e3})})};return(u,v)=>(l(),f("div",le,[n(ue,{onChangeUsername:c}),n(G,{class:"my-4"}),n(ne,{onChangePassword:r})]))}}),de={},me={class:"absolute"};function _e(s,o){return l(),f("div",me,"SecurityView")}var pe=$(de,[["render",_e]]);const fe={},ve={class:"absolute"};function ye(s,o){return l(),f("div",ve,"StyleView")}var he=$(fe,[["render",ye]]);const xe={},we={class:"absolute"};function be(s,o){return l(),f("div",we,"AboutView")}var Ce=$(xe,[["render",be]]);const ge={},$e={class:"absolute"};function ke(s,o){return l(),f("div",$e,"HelpView")}var Be=$(ge,[["render",ke]]);function Ve(){const s=B(),o=[{type:"item",text:"\u7528\u6237",icon:m.Contact,color:s.value.colorSuccess,key:"user",comp:g(ie)},{type:"item",text:"\u5B89\u5168",icon:m.ReportHacked,color:s.value.colorPrimary,key:"security",comp:g(pe)},{type:"item",text:"\u6837\u5F0F",icon:m.OEM,color:s.value.colorWarning,key:"style",comp:g(he)},{type:"item",text:"\u5173\u4E8E",icon:m.Info,color:s.value.textColorSecondary,key:"about",comp:g(Ce)},{type:"item",text:"\u5E2E\u52A9",icon:m.EaseOfAccess,color:s.value.textColorSecondary,key:"help",comp:g(Be)}],e=y(()=>o.map((r,c)=>P({idx:c},r)));function a(r){return e.value.find(c=>c.key===r)}return{config:e,getConfig:a}}const Ee={class:"p-8 w-full h-full overflow-auto"},He={class:"py-4 text-2xl mb-4"},De=w({props:{title:null},setup(s){return(o,e)=>(l(),f("div",Ee,[p("div",He,W(s.title),1),z(o.$slots,"default")]))}}),Se=w({props:{current:null,model:null},setup(s){const o=s,e=y(()=>o.model.map(a=>({key:a.key,component:a.comp})));return(a,r)=>(l(),E(X,{model:t(e),current:s.current},{default:i(c=>[n(De,{title:s.model[c.idx].title},{default:i(()=>[(l(),E(q(c.component)))]),_:2},1032,["title"])]),_:1},8,["model","current"]))}}),Pe={class:"h-full w-full flex rounded-md overflow-hidden"},Fe={style:{flex:"1 0 0","overflow-y":"auto"}},Ae={class:"pb-2 pl-4 pr-2"},We=w({setup(s){const o=B(),e=C(0),{config:a,getConfig:r}=Ve(),c=y(()=>[{type:"title",label:"\u8BBE\u7F6E"},...a.value.map(({type:_,text:h,icon:d,color:x,key:N},j)=>({type:_,text:h,icon:d,color:x,key:N,selected:e.value===j}))]),u=_=>{switch(_){case"user":case"security":case"style":case"about":case"help":const h=r(_).idx;e.value=h;break}},v=y(()=>a.value.map(({key:_,text:h,comp:d})=>({key:_,title:h,comp:d})));return(_,h)=>(l(),f("div",Pe,[p("div",{class:"w-48 flex-shrink-0 flex flex-col",style:A({backgroundColor:t(o).backgroundColorTertiary})},[p("div",Fe,[p("div",Ae,[n(t(J),{model:t(c),onOnSelect:u},null,8,["model"])])]),n(ee)],4),p("div",{class:"flex-1 overflow-hidden relative",style:A({backgroundColor:t(o).backgroundColorPrimary})},[n(Se,{current:e.value,model:t(v)},null,8,["current","model"])],4)]))}});export{We as default};
