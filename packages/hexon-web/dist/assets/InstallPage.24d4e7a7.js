var E=Object.defineProperty,W=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var k=(n,e,t)=>e in n?E(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||(e={}))U.call(e,t)&&k(n,t,e[t]);if(g)for(var t of g(e))D.call(e,t)&&k(n,t,e[t]);return n},L=(n,e)=>W(n,A(e));var N=(n,e)=>{var t={};for(var s in n)U.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&g)for(var s of g(n))e.indexOf(s)<0&&D.call(n,s)&&(t[s]=n[s]);return t};var O=(n,e,t)=>(k(n,typeof e!="symbol"?e+"":e,t),t);import{d as w,c as y,g as _,ao as M,ap as C,u as z,b as l,f as I,a6 as X,o as F,e as S,h as d,q as B,t as H,v as u,C as T,p as f,w as q,l as K}from"./vendor.1b5f1531.js";import{_ as $,c as m,H as v,w as Q,e as R,x as G,y as J}from"./index.c292ff2c.js";import{H as b}from"./HInput.30e7dbe4.js";const Y=n=>{const e=_(0),t=y(()=>e.value===0),s=y(()=>e.value===n-1),a=()=>{n!==0&&(s.value||(e.value+=1))},c=()=>{t.value||(e.value-=1)};return{current:y(()=>e.value),next:a,prev:c,isFirst:t,isLast:s,total:n}},Z=w({name:"Stepper",setup(n,{slots:e}){var o;const t=((o=e.default)==null?void 0:o.call(e).length)||0,s=Y(t),a=_(null),c=_({width:0,height:0});M(a,x=>{const i=x[0],{width:p,height:h}=i.contentRect;c.value={width:p,height:h}});const r=y(()=>s.current.value*c.value.width);return()=>{var i;const x=((i=e.default)==null?void 0:i.call(e,V({},s)))||[];return C("div",{style:{overflow:"hidden"}},C("div",{ref:a,style:{height:"100%",display:"flex",transform:`translateX(-${r.value}px)`,transition:"all 0.5s"}},x.map((p,h)=>{const j={height:"100%",flex:"0 0 100%"};return s.current.value-1<=h&&h<=s.current.value+1?C(p,{style:j}):C("div",{style:L(V({},j),{backgroundColor:"black"})})})))}}});class P{constructor(){O(this,"fns",[])}sleep(e=0){return this.fns.push(()=>new Promise(t=>{setTimeout(t,e*1e3)})),this}exec(e){return this.fns.push(e),this}interval(e,t,s){this.exec(e);for(let a=0;a<s-1;a++)this.sleep(t),this.exec(e);return this}async start(){for(const e of this.fns)await e()}}const ee={class:"install-welcome w-full h-full flex flex-col items-center justify-center select-none"},te={class:"text-6xl relative font-light"},le=B(" "+H("\u200B")),ae=B(" \u73B0\u5728\u5F00\u59CB "),ne=w({props:{next:null},setup(n){const e=n;z(i=>({"72abbadf":l(s).bgColor,"627d1064":l(s).color}));const t=I(),s=y(()=>({bgColor:t.value.color.primary.n,color:t.value.color.white})),a=new P;a.sleep(2.25),"Hexo".split("").map((i,p)=>{p>0&&a.sleep(.075),a.exec(()=>{c.value+=i})}),a.sleep(1.5)," online".split("").map((i,p)=>{p>0&&a.sleep(.075),a.exec(()=>{r.value+=i})}),a.sleep(1.5),a.interval(()=>{r.value=r.value.slice(0,r.value.length-1)},.05,7),a.interval(()=>{c.value=c.value.slice(0,c.value.length-1)},.05,4),a.sleep(.075),"Hexon".split("").map((i,p)=>{p>0&&a.sleep(.075),a.exec(()=>{c.value+=i})}),"line".split("").map((i,p)=>{p>0&&a.sleep(.075),a.exec(()=>{o.value+=i})}),a.sleep(1.5),a.interval(()=>{o.value=o.value.slice(0,o.value.length-1)},.25,4),a.sleep(1.5),a.exec(()=>{c.value+="."}),a.sleep(1.5),a.exec(()=>{x.value=1});const c=_(""),r=_(""),o=_("");X(()=>{a.start()});const x=_(0);return(i,p)=>(F(),S("div",ee,[d("h1",te,[B(H(c.value)+" ",1),d("span",null,H(r.value),1),d("span",null,H(o.value),1),le]),d("button",{class:"mt-11 transition-opacity",style:T(`opacity: ${x.value}`),onClick:p[0]||(p[0]=(...h)=>e.next&&e.next(...h))},[ae,u(l(v),{name:l(m).ChevronRight},null,8,["name"])],4)]))}});var se=$(ne,[["__scopeId","data-v-16585c68"]]),re="/assets/logo-invert.c5a6e5ca.svg";const oe=["onSubmit"],ue={class:"flex mb-6"},ce=["src"],ie={class:"inputs flex"},pe={class:"mr-6 w-64"},de={class:"w-64"},me={class:"flex"},ve=B(" \u5F00\u59CB\u5B89\u88C5 "),fe=w({emits:["on-back","on-submit"],setup(n,{emit:e}){const t=_({username:"",password:"",password2:"",secret:Q(),expiresIn:"1",refreshableIn:"7"}),s=()=>{e("on-submit",t.value)},a=I();return(c,r)=>(F(),S("form",{onSubmit:q(s,["prevent"]),class:"h-install-form flex flex-col select-none"},[d("div",ue,[d("div",{class:"text-3xl font-light flex-1",style:T({color:l(a).color.white})}," \u6B22\u8FCE\u4F7F\u7528 Hexon ",4),d("img",{src:l(re),alt:"logo",class:"h-12 inline-block"},null,8,ce)]),d("div",ie,[d("div",pe,[u(l(b),{placeholder:"\u7528\u6237\u540D",modelValue:t.value.username,"onUpdate:modelValue":r[0]||(r[0]=o=>t.value.username=o),class:"my-3",clearable:""},{prefix:f(()=>[u(l(v),{name:l(m).Contact},null,8,["name"])]),_:1},8,["modelValue"]),u(l(b),{placeholder:"\u5BC6\u7801",modelValue:t.value.password,"onUpdate:modelValue":r[1]||(r[1]=o=>t.value.password=o),attrType:"password",class:"my-3",clearable:""},{prefix:f(()=>[u(l(v),{name:l(m).Lock},null,8,["name"])]),_:1},8,["modelValue"]),u(l(b),{placeholder:"\u91CD\u590D\u8F93\u5165\u5BC6\u7801",modelValue:t.value.password2,"onUpdate:modelValue":r[2]||(r[2]=o=>t.value.password2=o),attrType:"password",class:"my-3",clearable:""},{prefix:f(()=>[u(l(v),{name:l(m).Lock},null,8,["name"])]),_:1},8,["modelValue"])]),d("div",de,[u(l(b),{placeholder:"\u5BC6\u94A5",modelValue:t.value.secret,"onUpdate:modelValue":r[3]||(r[3]=o=>t.value.secret=o),class:"my-3",clearable:""},{prefix:f(()=>[u(l(v),{name:l(m).PasswordKeyHide},null,8,["name"])]),_:1},8,["modelValue"]),u(l(b),{placeholder:"\u8FC7\u671F\u65F6\u95F4",modelValue:t.value.expiresIn,"onUpdate:modelValue":r[4]||(r[4]=o=>t.value.expiresIn=o),class:"my-3",attrType:"number",clearable:""},{prefix:f(()=>[u(l(v),{name:l(m).SetHistoryStatus},null,8,["name"])]),_:1},8,["modelValue"]),u(l(b),{placeholder:"\u8FC7\u671F\u65F6\u95F4",modelValue:t.value.refreshableIn,"onUpdate:modelValue":r[5]||(r[5]=o=>t.value.refreshableIn=o),class:"my-3",attrType:"number",clearable:""},{prefix:f(()=>[u(l(v),{name:l(m).SetHistoryStatus2},null,8,["name"])]),_:1},8,["modelValue"])])]),d("div",me,[u(l(R),{class:"mt-4 mr-4",round:"",onClick:r[6]||(r[6]=o=>e("on-back")),attrType:"button"},{default:f(()=>[u(l(v),{name:l(m).ChevronLeft},null,8,["name"])]),_:1}),u(l(R),{class:"mt-4 flex-1",attrType:"submit"},{default:f(()=>[ve,u(l(v),{name:l(m).ChevronRight},null,8,["name"])]),_:1}),u(l(R),{class:"mt-4 ml-4",round:"",attrType:"button"},{default:f(()=>[u(l(v),{name:l(m).Help},null,8,["name"])]),_:1})])],40,oe))}});var _e=$(fe,[["__scopeId","data-v-2b871311"]]);const xe={class:"w-full h-full relative flex flex-col items-center justify-center"},he=w({props:{prev:null},setup(n){const e=_(!1),t=async a=>{const o=a,{password2:c}=o,r=N(o,["password2"]);e.value=!0;try{await G({username:r.username,password:r.password,secret:r.secret,expiresIn:r.expiresIn,refreshableIn:r.refreshableIn}),J()}catch(x){throw e.value=!1,x}},s=I();return(a,c)=>(F(),S("div",xe,[u(_e,{onOnSubmit:t,onOnBack:n.prev},null,8,["onOnBack"]),d("div",{class:"absolute top-0 left-0 bottom-0 right-0 transition-opacity z-10 flex items-center justify-center text-4xl",style:T(V({backgroundColor:l(s).color.primary.n,opacity:e.value?.9:0},!e.value&&{pointerEvents:"none"}))},[u(l(v),{class:"rotating",name:l(m).Refresh},null,8,["name"])],4)]))}});const ye=w({setup(n){z(s=>({dac25b56:l(t).bgColor,"701b8d5a":l(t).color}));const e=I(),t=y(()=>({bgColor:e.value.color.primary.n,color:e.value.color.white}));return(s,a)=>(F(),K(Z,{class:"install-page w-full h-full"},{default:f(c=>[u(se,{next:c==null?void 0:c.next},null,8,["next"]),u(he,{prev:c==null?void 0:c.prev},null,8,["prev"])]),_:1}))}});var Ce=$(ye,[["__scopeId","data-v-dff9578c"]]);export{Ce as default};
