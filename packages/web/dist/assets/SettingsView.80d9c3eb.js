var N=Object.defineProperty;var H=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var S=(s,o,t)=>o in s?N(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t,P=(s,o)=>{for(var t in o||(o={}))U.call(o,t)&&S(s,t,o[t]);if(H)for(var t of H(o))I.call(o,t)&&S(s,t,o[t]);return s};import{u as B,G as T,H as v,d as w,F as L,g as F,t as O,e as R,c as E,z as W,I as z,J as K,K as M,L as q}from"./index.6c72b78c.js";import{d as h,u as G,f as e,o as m,g as D,w as f,v as r,j as d,r as C,a as x,b as y,q as V,P as J,l as b,F as Q,s as X,K as $,t as Y,e as Z,I as ee}from"./vendor.a0f19e68.js";import{_ as te}from"./HDivider.1dd31f53.js";import{_ as oe}from"./HNavList.3a60bcbe.js";import{H as se}from"./HToolbar.52d6cef7.js";import{H as k}from"./HInput.f3a1959a.js";import{H as ae}from"./HPopover.fcda55cc.js";import{_ as ne}from"./HToggle.29884c81.js";import{_ as re}from"./HSlideView.9b14d4df.js";const le=d("span",{class:"text-sm font-bold"},"\u9000\u51FA\u767B\u5F55",-1),ue=d("div",{class:"flex-1"},null,-1),ce=h({setup(s){G(a=>({"01ea83fe":e(o).colorPrimary,"03089125":e(o).colorWhite,"3e6db844":e(o).colorPrimaryHover,"2bbf78a4":e(o).colorPrimaryActive}));const o=B(),t=T(),n=async()=>{await t.signout(),L()};return(a,l)=>(m(),D(se,{class:"signout-button cursor-pointer px-5",onClick:n},{default:f(()=>[le,ue,r(e(w),{name:e(v).PowerButton},null,8,["name"])]),_:1}))}}),ie={class:"mt-2"},de=V(" \u66F4\u6539\u5BC6\u7801 "),me=V(" \u5FD8\u8BB0\u5BC6\u7801 "),_e=d("div",{class:"text-xs max-w-sm"}," \u5C06 hexon/packages/server/data/common.db \u4E2D userinfo.password \u6539\u4E3A d033e22ae348aeb5660fc2140aec35850c4da997 \u5373\u53EF\u5C06\u5BC6\u7801\u91CD\u7F6E\u4E3A admin ",-1),fe=h({emits:["change-password"],setup(s,{emit:o}){const t=C(""),n=C(""),a=C(""),l=x(()=>n.value===a.value),u=x(()=>a.value?l.value?"":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u540C":""),p=x(()=>!!u.value||!t.value||!n.value||!a.value),c=()=>o("change-password",{oldPassword:t.value,newPassword:n.value});return(_,i)=>(m(),y("div",null,[r(e(k),{"attr-type":"password",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=g=>t.value=g),error:""},{prefix:f(()=>[r(e(w),{name:e(v).Lock},null,8,["name"])]),_:1},8,["modelValue"]),r(e(k),{"attr-type":"password",placeholder:"\u65B0\u5BC6\u7801",type:"secondary",modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=g=>n.value=g),error:e(u)},{prefix:f(()=>[r(e(w),{name:e(v).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),r(e(k),{"attr-type":"password",placeholder:"\u91CD\u590D\u65B0\u5BC6\u7801",type:"secondary",modelValue:a.value,"onUpdate:modelValue":i[2]||(i[2]=g=>a.value=g),error:e(u)},{prefix:f(()=>[r(e(w),{name:e(v).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),d("div",ie,[r(e(F),{class:"mr-2",disabled:e(p),onClick:c},{default:f(()=>[de]),_:1},8,["disabled"]),r(e(F),{inverted:""},{default:f(()=>[me,r(e(ae),{position:"bottom-left"},{default:f(()=>[_e]),_:1})]),_:1})])]))}}),pe={class:"flex"},ve=V("\u4FDD\u5B58"),ye=h({emits:["change-username"],setup(s,{emit:o}){const t=C(""),n=x(()=>!t.value),a=()=>o("change-username",t.value);return(l,u)=>(m(),y("div",pe,[r(e(k),{class:"flex-1",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=p=>t.value=p)},{prefix:f(()=>[r(e(w),{name:e(v).Contact},null,8,["name"])]),_:1},8,["modelValue"]),r(e(F),{class:"ml-2",disabled:e(n),onClick:a},{default:f(()=>[ve]),_:1},8,["disabled"])]))}}),he={class:"w-72"},xe=h({setup(s){const o=T(),t=O(),n=R(),a=u=>{n.changePassword(u)},l=u=>{o.changeUsername(u).then(()=>{t.notify({type:"success",title:"\u7528\u6237\u540D\u4FEE\u6539\u6210\u529F"}),n.getUsername()},p=>{t.notify({title:"\u7528\u6237\u540D\u4FEE\u6539\u5931\u8D25",desc:p.message,type:"error",duration:5e3})})};return(u,p)=>(m(),y("div",he,[r(ye,{onChangeUsername:l}),r(te,{class:"my-4"}),r(fe,{onChangePassword:a})]))}}),ge={},Ce={class:"absolute"};function be(s,o){return m(),y("div",Ce,"SecurityView")}var we=E(ge,[["render",be]]);const $e={class:""},ke=V("\u4FDD\u5B58"),Be=h({setup(s){const o=W(),t=C(o.settings.ui.editor.fontFamily);J(()=>o.settings.ui.editor.fontFamily,c=>{t.value=c});const n=()=>{o.settings.ui.editor.fontFamily=t.value,o.save().then(()=>{K.notify({type:"success",title:"\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"})})},a=B(),l=z(),u=c=>{c?l.setTheme(M):l.setTheme(q)},p=!1;return(c,_)=>(m(),y("div",$e,[d("div",{class:"text-lg mb-2",style:b({color:e(a).textColorPrimary})}," \u7F16\u8F91\u5668 ",4),d("div",{class:"mb-2",style:b({color:e(a).textColorSecondary})},"\u5B57\u4F53",4),r(e(k),{class:"w-full font-mono",type:"secondary",modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=i=>t.value=i)},null,8,["modelValue"]),e(p)?(m(),y(Q,{key:0},[d("div",{class:"text-lg my-2",style:b({color:e(a).textColorPrimary})}," \u989C\u8272 ",4),d("div",{class:"mb-2",style:b({color:e(a).textColorSecondary})}," \u6697\u9ED1\u6A21\u5F0F ",4),d("div",null,[r(e(ne),{active:e(a).isDark,"onUpdate:active":_[1]||(_[1]=i=>u(i))},null,8,["active"])])],64)):X("",!0),r(e(F),{class:"mt-8",onClick:n},{default:f(()=>[ke]),_:1})]))}}),Fe={},Ve={class:"absolute"};function Ee(s,o){return m(),y("div",Ve,"AboutView")}var De=E(Fe,[["render",Ee]]);const He={},Se={class:"absolute"};function Pe(s,o){return m(),y("div",Se,"HelpView")}var Te=E(He,[["render",Pe]]);function je(){const s=B(),o=[{type:"item",text:"\u7528\u6237",icon:v.Contact,color:s.value.colorSuccess,key:"user",comp:$(xe)},{type:"item",text:"\u5B89\u5168",icon:v.ReportHacked,color:s.value.colorPrimary,key:"security",comp:$(we)},{type:"item",text:"\u6837\u5F0F",icon:v.OEM,color:s.value.colorWarning,key:"style",comp:$(Be)},{type:"item",text:"\u5173\u4E8E",icon:v.Info,color:s.value.textColorSecondary,key:"about",comp:$(De)},{type:"item",text:"\u5E2E\u52A9",icon:v.EaseOfAccess,color:s.value.textColorSecondary,key:"help",comp:$(Te)}],t=x(()=>o.map((a,l)=>P({idx:l},a)));function n(a){return t.value.find(l=>l.key===a)}return{config:t,getConfig:n}}const Ae={class:"p-8 w-full h-full overflow-auto"},Ne={class:"py-4 text-2xl mb-2"},Ue=h({props:{title:null},setup(s){return(o,t)=>(m(),y("div",Ae,[d("div",Ne,Y(s.title),1),Z(o.$slots,"default")]))}}),Ie=h({props:{current:null,model:null},setup(s){const o=s,t=x(()=>o.model.map(n=>({key:n.key,component:n.comp})));return(n,a)=>(m(),D(re,{model:e(t),current:s.current},{default:f(l=>[r(Ue,{title:s.model[l.idx].title},{default:f(()=>[(m(),D(ee(l.component)))]),_:2},1032,["title"])]),_:1},8,["model","current"]))}}),Le={class:"h-full w-full flex rounded-md overflow-hidden"},Oe={style:{flex:"1 0 0","overflow-y":"auto"}},Re={class:"pb-2 pl-4 pr-2"},Ze=h({setup(s){const o=B(),t=C(0),{config:n,getConfig:a}=je(),l=x(()=>[{type:"title",label:"\u8BBE\u7F6E"},...n.value.map(({type:c,text:_,icon:i,color:g,key:j},A)=>({type:c,text:_,icon:i,color:g,key:j,selected:t.value===A}))]),u=c=>{switch(c){case"user":case"security":case"style":case"about":case"help":const _=a(c).idx;t.value=_;break}},p=x(()=>n.value.map(({key:c,text:_,comp:i})=>({key:c,title:_,comp:i})));return(c,_)=>(m(),y("div",Le,[d("div",{class:"w-48 flex-shrink-0 flex flex-col",style:b({backgroundColor:e(o).backgroundColorTertiary})},[d("div",Oe,[d("div",Re,[r(e(oe),{model:e(l),onOnSelect:u},null,8,["model"])])]),r(ce)],4),d("div",{class:"flex-1 overflow-hidden relative",style:b({backgroundColor:e(o).backgroundColorSecondary})},[r(Ie,{current:t.value,model:e(p)},null,8,["current","model"])],4)]))}});export{Ze as default};
