var N=Object.defineProperty;var H=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var S=(s,t,e)=>t in s?N(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,P=(s,t)=>{for(var e in t||(t={}))U.call(t,e)&&S(s,e,t[e]);if(H)for(var e of H(t))T.call(t,e)&&S(s,e,t[e]);return s};import{u as B,G as j,H as _,d as b,F as L,g as V,t as O,e as R,c as F,z as W,I as z}from"./index.c1b12cec.js";import{d as y,u as M,f as o,o as l,g as E,w as i,v as n,j as p,r as g,a as h,b as v,q as k,P as q,l as D,K as C,t as G,e as K,I as J}from"./vendor.a0f19e68.js";import{_ as Q}from"./HDivider.188cc5f6.js";import{_ as X}from"./HNavList.cc9bd0ce.js";import{H as Y}from"./HToolbar.9a795024.js";import{H as $}from"./HInput.02f96447.js";import{H as Z}from"./HPopover.a2fdf73f.js";import{_ as ee}from"./HSlideView.9b14d4df.js";const te=p("span",{class:"text-sm font-bold"},"\u9000\u51FA\u767B\u5F55",-1),oe=p("div",{class:"flex-1"},null,-1),se=y({setup(s){M(u=>({"01ea83fe":o(t).colorPrimary,"03089125":o(t).colorWhite,"3e6db844":o(t).colorPrimaryHover,"2bbf78a4":o(t).colorPrimaryActive}));const t=B(),e=j(),a=async()=>{await e.signout(),L()};return(u,r)=>(l(),E(Y,{class:"signout-button cursor-pointer px-5",onClick:a},{default:i(()=>[te,oe,n(o(b),{name:o(_).PowerButton},null,8,["name"])]),_:1}))}}),ae={class:"mt-2"},ne=k(" \u66F4\u6539\u5BC6\u7801 "),ue=k(" \u5FD8\u8BB0\u5BC6\u7801 "),re=p("div",{class:"text-xs max-w-sm"}," \u5C06 hexon/packages/server/data/common.db \u4E2D userinfo.password \u6539\u4E3A d033e22ae348aeb5660fc2140aec35850c4da997 \u5373\u53EF\u5C06\u5BC6\u7801\u91CD\u7F6E\u4E3A admin ",-1),ce=y({emits:["change-password"],setup(s,{emit:t}){const e=g(""),a=g(""),u=g(""),r=h(()=>a.value===u.value),c=h(()=>u.value?r.value?"":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u540C":""),d=h(()=>!!c.value||!e.value||!a.value||!u.value),f=()=>t("change-password",{oldPassword:e.value,newPassword:a.value});return(x,m)=>(l(),v("div",null,[n(o($),{"attr-type":"password",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:e.value,"onUpdate:modelValue":m[0]||(m[0]=w=>e.value=w),error:""},{prefix:i(()=>[n(o(b),{name:o(_).Lock},null,8,["name"])]),_:1},8,["modelValue"]),n(o($),{"attr-type":"password",placeholder:"\u65B0\u5BC6\u7801",type:"secondary",modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=w=>a.value=w),error:o(c)},{prefix:i(()=>[n(o(b),{name:o(_).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),n(o($),{"attr-type":"password",placeholder:"\u91CD\u590D\u65B0\u5BC6\u7801",type:"secondary",modelValue:u.value,"onUpdate:modelValue":m[2]||(m[2]=w=>u.value=w),error:o(c)},{prefix:i(()=>[n(o(b),{name:o(_).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),p("div",ae,[n(o(V),{class:"mr-2",disabled:o(d),onClick:f},{default:i(()=>[ne]),_:1},8,["disabled"]),n(o(V),{inverted:""},{default:i(()=>[ue,n(o(Z),{position:"bottom-left"},{default:i(()=>[re]),_:1})]),_:1})])]))}}),le={class:"flex"},ie=k("\u4FDD\u5B58"),de=y({emits:["change-username"],setup(s,{emit:t}){const e=g(""),a=h(()=>!e.value),u=()=>t("change-username",e.value);return(r,c)=>(l(),v("div",le,[n(o($),{class:"flex-1",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d)},{prefix:i(()=>[n(o(b),{name:o(_).Contact},null,8,["name"])]),_:1},8,["modelValue"]),n(o(V),{class:"ml-2",disabled:o(a),onClick:u},{default:i(()=>[ie]),_:1},8,["disabled"])]))}}),me={class:"w-72"},_e=y({setup(s){const t=j(),e=O(),a=R(),u=c=>{a.changePassword(c)},r=c=>{t.changeUsername(c).then(()=>{e.notify({type:"success",title:"\u7528\u6237\u540D\u4FEE\u6539\u6210\u529F"}),a.getUsername()},d=>{e.notify({title:"\u7528\u6237\u540D\u4FEE\u6539\u5931\u8D25",desc:d.message,type:"error",duration:5e3})})};return(c,d)=>(l(),v("div",me,[n(de,{onChangeUsername:r}),n(Q,{class:"my-4"}),n(ce,{onChangePassword:u})]))}}),pe={},fe={class:"absolute"};function ve(s,t){return l(),v("div",fe,"SecurityView")}var ye=F(pe,[["render",ve]]);const he={class:""},xe=k("\u4FDD\u5B58"),we=y({setup(s){const t=W(),e=g(t.settings.ui.editor.fontFamily);q(()=>t.settings.ui.editor.fontFamily,r=>{e.value=r});const a=()=>{t.settings.ui.editor.fontFamily=e.value,t.save().then(()=>{z.notify({type:"success",title:"\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"})})},u=B();return(r,c)=>(l(),v("div",he,[p("div",{class:"mb-2",style:D({color:o(u).textColorSecondary})}," \u7F16\u8F91\u5668\u5B57\u4F53 ",4),n(o($),{class:"w-full font-mono",type:"secondary",modelValue:e.value,"onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d)},null,8,["modelValue"]),n(o(V),{class:"mt-8",onClick:a},{default:i(()=>[xe]),_:1})]))}}),ge={},be={class:"absolute"};function Ce(s,t){return l(),v("div",be,"AboutView")}var $e=F(ge,[["render",Ce]]);const Be={},Ve={class:"absolute"};function ke(s,t){return l(),v("div",Ve,"HelpView")}var Fe=F(Be,[["render",ke]]);function Ee(){const s=B(),t=[{type:"item",text:"\u7528\u6237",icon:_.Contact,color:s.value.colorSuccess,key:"user",comp:C(_e)},{type:"item",text:"\u5B89\u5168",icon:_.ReportHacked,color:s.value.colorPrimary,key:"security",comp:C(ye)},{type:"item",text:"\u6837\u5F0F",icon:_.OEM,color:s.value.colorWarning,key:"style",comp:C(we)},{type:"item",text:"\u5173\u4E8E",icon:_.Info,color:s.value.textColorSecondary,key:"about",comp:C($e)},{type:"item",text:"\u5E2E\u52A9",icon:_.EaseOfAccess,color:s.value.textColorSecondary,key:"help",comp:C(Fe)}],e=h(()=>t.map((u,r)=>P({idx:r},u)));function a(u){return e.value.find(r=>r.key===u)}return{config:e,getConfig:a}}const De={class:"p-8 w-full h-full overflow-auto"},He={class:"py-4 text-2xl mb-4"},Se=y({props:{title:null},setup(s){return(t,e)=>(l(),v("div",De,[p("div",He,G(s.title),1),K(t.$slots,"default")]))}}),Pe=y({props:{current:null,model:null},setup(s){const t=s,e=h(()=>t.model.map(a=>({key:a.key,component:a.comp})));return(a,u)=>(l(),E(ee,{model:o(e),current:s.current},{default:i(r=>[n(Se,{title:s.model[r.idx].title},{default:i(()=>[(l(),E(J(r.component)))]),_:2},1032,["title"])]),_:1},8,["model","current"]))}}),je={class:"h-full w-full flex rounded-md overflow-hidden"},Ae={style:{flex:"1 0 0","overflow-y":"auto"}},Ie={class:"pb-2 pl-4 pr-2"},qe=y({setup(s){const t=B(),e=g(0),{config:a,getConfig:u}=Ee(),r=h(()=>[{type:"title",label:"\u8BBE\u7F6E"},...a.value.map(({type:f,text:x,icon:m,color:w,key:A},I)=>({type:f,text:x,icon:m,color:w,key:A,selected:e.value===I}))]),c=f=>{switch(f){case"user":case"security":case"style":case"about":case"help":const x=u(f).idx;e.value=x;break}},d=h(()=>a.value.map(({key:f,text:x,comp:m})=>({key:f,title:x,comp:m})));return(f,x)=>(l(),v("div",je,[p("div",{class:"w-48 flex-shrink-0 flex flex-col",style:D({backgroundColor:o(t).backgroundColorTertiary})},[p("div",Ae,[p("div",Ie,[n(o(X),{model:o(r),onOnSelect:c},null,8,["model"])])]),n(se)],4),p("div",{class:"flex-1 overflow-hidden relative",style:D({backgroundColor:o(t).backgroundColorPrimary})},[n(Pe,{current:e.value,model:o(d)},null,8,["current","model"])],4)]))}});export{qe as default};
