var A=Object.defineProperty;var b=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var k=(o,l,e)=>l in o?A(o,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[l]=e,P=(o,l)=>{for(var e in l||(l={}))T.call(l,e)&&k(o,e,l[e]);if(b)for(var e of b(l))E.call(l,e)&&k(o,e,l[e]);return o};var $=(o,l)=>{var e={};for(var r in o)T.call(o,r)&&l.indexOf(r)<0&&(e[r]=o[r]);if(o!=null&&b)for(var r of b(o))l.indexOf(r)<0&&E.call(o,r)&&(e[r]=o[r]);return e};var D=(o,l,e)=>(k(o,typeof l!="symbol"?l+"":l,e),e);import{d as w,r as x,o as C,b as g,j as p,l as V,f as t,v as u,w as _,k as Q,q as F,u as j,a as U,Q as N,t as I,K as W}from"./vendor.a0f19e68.js";import{c as H,D as R,u as B,d as m,H as d,g as S,v as q,E as M,F as z}from"./index.c1b12cec.js";import{H as h}from"./HInput.02f96447.js";import{_ as L}from"./HSlideView.9b14d4df.js";var G="/assets/logo-invert.c5a6e5ca.svg";const K=["onSubmit"],O={class:"flex mb-6"},Y=["src"],J={class:"inputs flex"},X={class:"mr-6 w-64"},Z={class:"w-64"},ee={class:"flex"},le=F(" \u5F00\u59CB\u5B89\u88C5 "),te=w({emits:["on-back","on-submit"],setup(o,{emit:l}){const e=x({username:"",password:"",password2:"",secret:R(),expiresIn:"1",refreshableIn:"7"}),r=()=>{l("on-submit",e.value)},s=B();return(i,a)=>(C(),g("form",{onSubmit:Q(r,["prevent"]),class:"h-install-form flex flex-col select-none"},[p("div",O,[p("div",{class:"text-3xl font-light flex-1",style:V({color:t(s).textColorWhite})}," \u6B22\u8FCE\u4F7F\u7528 Hexon ",4),p("img",{src:t(G),alt:"logo",class:"h-12 inline-block"},null,8,Y)]),p("div",J,[p("div",X,[u(t(h),{placeholder:"\u7528\u6237\u540D",modelValue:e.value.username,"onUpdate:modelValue":a[0]||(a[0]=n=>e.value.username=n),class:"my-3",clearable:""},{prefix:_(()=>[u(t(m),{name:t(d).Contact},null,8,["name"])]),_:1},8,["modelValue"]),u(t(h),{placeholder:"\u5BC6\u7801",modelValue:e.value.password,"onUpdate:modelValue":a[1]||(a[1]=n=>e.value.password=n),attrType:"password",class:"my-3",clearable:""},{prefix:_(()=>[u(t(m),{name:t(d).Lock},null,8,["name"])]),_:1},8,["modelValue"]),u(t(h),{placeholder:"\u91CD\u590D\u8F93\u5165\u5BC6\u7801",modelValue:e.value.password2,"onUpdate:modelValue":a[2]||(a[2]=n=>e.value.password2=n),attrType:"password",class:"my-3",clearable:""},{prefix:_(()=>[u(t(m),{name:t(d).Lock},null,8,["name"])]),_:1},8,["modelValue"])]),p("div",Z,[u(t(h),{placeholder:"\u5BC6\u94A5",modelValue:e.value.secret,"onUpdate:modelValue":a[3]||(a[3]=n=>e.value.secret=n),class:"my-3",clearable:""},{prefix:_(()=>[u(t(m),{name:t(d).PasswordKeyHide},null,8,["name"])]),_:1},8,["modelValue"]),u(t(h),{placeholder:"\u8FC7\u671F\u65F6\u95F4",modelValue:e.value.expiresIn,"onUpdate:modelValue":a[4]||(a[4]=n=>e.value.expiresIn=n),class:"my-3",attrType:"number",clearable:""},{prefix:_(()=>[u(t(m),{name:t(d).SetHistoryStatus},null,8,["name"])]),_:1},8,["modelValue"]),u(t(h),{placeholder:"\u8FC7\u671F\u65F6\u95F4",modelValue:e.value.refreshableIn,"onUpdate:modelValue":a[5]||(a[5]=n=>e.value.refreshableIn=n),class:"my-3",attrType:"number",clearable:""},{prefix:_(()=>[u(t(m),{name:t(d).SetHistoryStatus2},null,8,["name"])]),_:1},8,["modelValue"])])]),p("div",ee,[u(t(S),{class:"mt-4 mr-4",round:"",onClick:a[6]||(a[6]=n=>l("on-back")),attrType:"button"},{default:_(()=>[u(t(m),{name:t(d).ChevronLeft},null,8,["name"])]),_:1}),u(t(S),{class:"mt-4 flex-1",attrType:"submit"},{default:_(()=>[le,u(t(m),{name:t(d).ChevronRight},null,8,["name"])]),_:1}),u(t(S),{class:"mt-4 ml-4",round:"",attrType:"button"},{default:_(()=>[u(t(m),{name:t(d).Help},null,8,["name"])]),_:1})])],40,K))}});var se=H(te,[["__scopeId","data-v-03019220"]]);const ae={class:"w-full h-full flex flex-col items-center justify-center"},oe=w({props:{idx:null,setCurrent:null},setup(o){const l=o,e=x(!1),r=q(),s=async n=>{const c=n,{password2:y}=c,f=$(c,["password2"]);e.value=!0;try{await M({username:f.username,password:f.password,secret:f.secret,expiresIn:f.expiresIn,refreshableIn:f.refreshableIn}),z()}catch{e.value=!1,r.create({type:"error",title:"\u5B89\u88C5\u5931\u8D25",content:"\u8BE6\u60C5\u8BF7\u67E5\u770B\u670D\u52A1\u7AEF\u5B89\u88C5\u65E5\u5FD7\uFF08PM2\uFF09\u3002\u6216\u8005\u4F60\u53EF\u4EE5\u5728 Github Issue \u6216 QQ \u7FA4\u6C42\u52A9\u3002",actions:[{type:"info",label:"Github",run:()=>{window.open("https://github.com/gethexon/hexon/issues","_blank")}},{type:"info",label:"QQ \u7FA4",run:()=>{window.open("https://jq.qq.com/?_wv=1027&k=WMYcPUiW","_blank")}}]})}},i=B(),a=()=>{l.setCurrent(l.idx-1)};return(n,y)=>(C(),g("div",ae,[u(se,{onOnSubmit:s,onOnBack:a}),p("div",{class:"absolute top-0 left-0 bottom-0 right-0 transition-opacity z-10 flex items-center justify-center text-4xl",style:V(P({backgroundColor:t(i).colorPrimary,opacity:e.value?.9:0},!e.value&&{pointerEvents:"none"}))},[u(t(m),{class:"rotating",name:t(d).Refresh},null,8,["name"])],4)]))}});class ne{constructor(){D(this,"fns",[])}sleep(l=0){return this.fns.push(()=>new Promise(e=>{setTimeout(e,l*1e3)})),this}exec(l){return this.fns.push(l),this}interval(l,e,r){this.exec(l);for(let s=0;s<r-1;s++)this.sleep(e),this.exec(l);return this}async start(){for(const l of this.fns)await l()}}const ue={class:"install-welcome w-full h-full flex flex-col items-center justify-center select-none"},re={class:"text-6xl relative font-light"},ie=F(" "+I("\u200B")),ce=F(" \u73B0\u5728\u5F00\u59CB "),pe=w({props:{idx:null,setCurrent:null},setup(o){const l=o;j(c=>({"3ee2222c":t(r).bgColor,"5f23cb2f":t(r).color}));const e=B(),r=U(()=>({bgColor:e.value.colorPrimary,color:e.value.textColorWhite})),s=new ne;s.sleep(2.25),"Hexo".split("").map((c,v)=>{v>0&&s.sleep(.075),s.exec(()=>{i.value+=c})}),s.sleep(1.5)," online".split("").map((c,v)=>{v>0&&s.sleep(.075),s.exec(()=>{a.value+=c})}),s.sleep(1.5),s.interval(()=>{a.value=a.value.slice(0,a.value.length-1)},.05,7),s.interval(()=>{i.value=i.value.slice(0,i.value.length-1)},.05,4),s.sleep(.075),"Hexon".split("").map((c,v)=>{v>0&&s.sleep(.075),s.exec(()=>{i.value+=c})}),"line".split("").map((c,v)=>{v>0&&s.sleep(.075),s.exec(()=>{n.value+=c})}),s.sleep(1.5),s.interval(()=>{n.value=n.value.slice(0,n.value.length-1)},.25,4),s.sleep(1.5),s.exec(()=>{i.value+="."}),s.sleep(1.5),s.exec(()=>{y.value=1});const i=x(""),a=x(""),n=x("");N(()=>{s.start()});const y=x(0),f=()=>{l.setCurrent(l.idx+1)};return(c,v)=>(C(),g("div",ue,[p("h1",re,[F(I(i.value)+" ",1),p("span",null,I(a.value),1),p("span",null,I(n.value),1),ie]),p("button",{class:"mt-11 transition-opacity",style:V(`opacity: ${y.value}`),onClick:f},[ce,u(t(m),{name:t(d).ChevronRight},null,8,["name"])],4)]))}});var me=H(pe,[["__scopeId","data-v-78c08678"]]);const de=w({setup(o){j(i=>({fbd7f864:t(e).bgColor,"001e6dda":t(e).color}));const l=B(),e=U(()=>({bgColor:l.value.colorPrimary,color:l.value.textColorWhite})),r=x(0),s=[{component:W(me)},{component:W(oe)}];return(i,a)=>(C(),g("div",{class:"h-full w-full",style:V({backgroundColor:t(l).colorPrimary})},[u(L,{model:s,current:r.value,"onUpdate:current":a[0]||(a[0]=n=>r.value=n),horizontal:""},null,8,["current"])],4))}});var ye=H(de,[["__scopeId","data-v-54b11d9a"]]);export{ye as default};
