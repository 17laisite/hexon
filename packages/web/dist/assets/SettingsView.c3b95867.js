var U=Object.defineProperty;var S=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var H=(s,o,t)=>o in s?U(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t,P=(s,o)=>{for(var t in o||(o={}))N.call(o,t)&&H(s,t,o[t]);if(S)for(var t of S(o))j.call(o,t)&&H(s,t,o[t]);return s};import{g as B,H as f,h as b,i as I,l as O,b as $,d as V,j as L,e as q,k as M,m as R,_ as E,n as W,o as z,p as G,q as Q,r as J,s as K}from"./index.86fea9bb.js";import{d as y,u as X,f as e,o as m,g as D,w as p,v as n,j as i,r as C,a as h,b as v,q as F,Q as Y,l as w,F as Z,s as ee,G as k,t as te,e as oe,E as se}from"./vendor.aedfeaf6.js";import{H as ae}from"./HPopover.76d58fdf.js";import{_ as ne}from"./HToggle.87930587.js";import{_ as le}from"./HSlideView.dfe25e52.js";const re=i("span",{class:"text-sm font-bold"},"\u9000\u51FA\u767B\u5F55",-1),ue=i("div",{class:"flex-1"},null,-1),ce=y({setup(s){X(l=>({"0980e35f":e(o).colorPrimary,"547d5674":e(o).colorWhite,"2e478dc6":e(o).colorPrimaryHover,"260f0b45":e(o).colorPrimaryActive}));const o=B(),t=async()=>O();return(l,a)=>(m(),D(I,{class:"signout-button cursor-pointer px-5",onClick:t},{default:p(()=>[re,ue,n(e(b),{name:e(f).PowerButton},null,8,["name"])]),_:1}))}}),ie={class:"mt-2"},de=F(" \u66F4\u6539\u5BC6\u7801 "),me=F(" \u5FD8\u8BB0\u5BC6\u7801 "),_e=i("div",{class:"text-xs max-w-sm"}," \u5C06 hexon/packages/server/data/common.db \u4E2D userinfo.password \u6539\u4E3A d033e22ae348aeb5660fc2140aec35850c4da997 \u5373\u53EF\u5C06\u5BC6\u7801\u91CD\u7F6E\u4E3A admin ",-1),pe=y({emits:["change-password"],setup(s,{emit:o}){const t=C(""),l=C(""),a=C(""),r=h(()=>l.value===a.value),d=h(()=>a.value?r.value?"":"\u4E24\u6B21\u5BC6\u7801\u4E0D\u540C":""),x=h(()=>!!d.value||!t.value||!l.value||!a.value),u=()=>o("change-password",{oldPassword:t.value,newPassword:l.value});return(_,c)=>(m(),v("div",null,[n(e($),{"attr-type":"password",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=g=>t.value=g),error:""},{prefix:p(()=>[n(e(b),{name:e(f).Lock},null,8,["name"])]),_:1},8,["modelValue"]),n(e($),{"attr-type":"password",placeholder:"\u65B0\u5BC6\u7801",type:"secondary",modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=g=>l.value=g),error:e(d)},{prefix:p(()=>[n(e(b),{name:e(f).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),n(e($),{"attr-type":"password",placeholder:"\u91CD\u590D\u65B0\u5BC6\u7801",type:"secondary",modelValue:a.value,"onUpdate:modelValue":c[2]||(c[2]=g=>a.value=g),error:e(d)},{prefix:p(()=>[n(e(b),{name:e(f).Lock},null,8,["name"])]),_:1},8,["modelValue","error"]),i("div",ie,[n(e(V),{class:"mr-2",disabled:e(x),onClick:u},{default:p(()=>[de]),_:1},8,["disabled"]),n(e(V),{inverted:""},{default:p(()=>[me,n(e(ae),{position:"bottom-left"},{default:p(()=>[_e]),_:1})]),_:1})])]))}}),fe={class:"flex"},ve=F("\u4FDD\u5B58"),ye=y({emits:["change-username"],setup(s,{emit:o}){const t=C(""),l=h(()=>!t.value),a=()=>o("change-username",t.value);return(r,d)=>(m(),v("div",fe,[n(e($),{class:"flex-1",placeholder:"\u65E7\u5BC6\u7801",type:"secondary",modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=x=>t.value=x)},{prefix:p(()=>[n(e(b),{name:e(f).Contact},null,8,["name"])]),_:1},8,["modelValue"]),n(e(V),{class:"ml-2",disabled:e(l),onClick:a},{default:p(()=>[ve]),_:1},8,["disabled"])]))}}),he={class:"w-72"},xe=y({setup(s){const o=L(),t=q(),l=r=>{t.changePassword(r)},a=r=>{R(r).then(()=>{o.notify({type:"success",title:"\u7528\u6237\u540D\u4FEE\u6539\u6210\u529F"}),t.getUsername()},d=>{o.notify({title:"\u7528\u6237\u540D\u4FEE\u6539\u5931\u8D25",desc:d.message,type:"error",duration:5e3})})};return(r,d)=>(m(),v("div",he,[n(ye,{onChangeUsername:a}),n(M,{class:"my-4"}),n(pe,{onChangePassword:l})]))}}),ge={},Ce={class:"absolute"};function we(s,o){return m(),v("div",Ce,"SecurityView")}var be=E(ge,[["render",we]]);const $e={class:""},ke=F("\u4FDD\u5B58"),Be=y({setup(s){const o=W(),t=C(o.settings.ui.editor.fontFamily);Y(()=>o.settings.ui.editor.fontFamily,u=>{t.value=u});const l=()=>{o.settings.ui.editor.fontFamily=t.value,o.save().then(()=>{G.notify({type:"success",title:"\u8BBE\u7F6E\u5DF2\u4FDD\u5B58"})})},a=B(),r=z(),d=u=>{u?r.setTheme(Q):r.setTheme(J)},x=!1;return(u,_)=>(m(),v("div",$e,[i("div",{class:"text-lg mb-2",style:w({color:e(a).textColorPrimary})}," \u7F16\u8F91\u5668 ",4),i("div",{class:"mb-2",style:w({color:e(a).textColorSecondary})},"\u5B57\u4F53",4),n(e($),{class:"w-full font-mono",type:"secondary",modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=c=>t.value=c)},null,8,["modelValue"]),e(x)?(m(),v(Z,{key:0},[i("div",{class:"text-lg my-2",style:w({color:e(a).textColorPrimary})}," \u989C\u8272 ",4),i("div",{class:"mb-2",style:w({color:e(a).textColorSecondary})}," \u6697\u9ED1\u6A21\u5F0F ",4),i("div",null,[n(e(ne),{active:e(a).isDark,"onUpdate:active":_[1]||(_[1]=c=>d(c))},null,8,["active"])])],64)):ee("",!0),n(e(V),{class:"mt-8",onClick:l},{default:p(()=>[ke]),_:1})]))}}),Ve={},Fe={class:"absolute"};function Ee(s,o){return m(),v("div",Fe,"AboutView")}var De=E(Ve,[["render",Ee]]);const Se={},He={class:"absolute"};function Pe(s,o){return m(),v("div",He,"HelpView")}var Te=E(Se,[["render",Pe]]);function Ae(){const s=B(),o=[{type:"item",text:"\u7528\u6237",icon:f.Contact,color:s.value.colorSuccess,key:"user",comp:k(xe)},{type:"item",text:"\u5B89\u5168",icon:f.ReportHacked,color:s.value.colorPrimary,key:"security",comp:k(be)},{type:"item",text:"\u6837\u5F0F",icon:f.OEM,color:s.value.colorWarning,key:"style",comp:k(Be)},{type:"item",text:"\u5173\u4E8E",icon:f.Info,color:s.value.textColorSecondary,key:"about",comp:k(De)},{type:"item",text:"\u5E2E\u52A9",icon:f.EaseOfAccess,color:s.value.textColorSecondary,key:"help",comp:k(Te)}],t=h(()=>o.map((a,r)=>P({idx:r},a)));function l(a){return t.value.find(r=>r.key===a)}return{config:t,getConfig:l}}const Ue={class:"p-8 w-full h-full overflow-auto"},Ne={class:"py-4 text-2xl mb-2"},je=y({props:{title:null},setup(s){return(o,t)=>(m(),v("div",Ue,[i("div",Ne,te(s.title),1),oe(o.$slots,"default")]))}}),Ie=y({props:{current:null,model:null},setup(s){const o=s,t=h(()=>o.model.map(l=>({key:l.key,component:l.comp})));return(l,a)=>(m(),D(le,{model:e(t),current:s.current},{default:p(r=>[n(je,{title:s.model[r.idx].title},{default:p(()=>[(m(),D(se(r.component)))]),_:2},1032,["title"])]),_:1},8,["model","current"]))}}),Oe={class:"h-full w-full flex rounded-md overflow-hidden"},Le={style:{flex:"1 0 0","overflow-y":"auto"}},qe={class:"pb-2 pl-4 pr-2"},Je=y({setup(s){const o=B(),t=C(0),{config:l,getConfig:a}=Ae(),r=h(()=>[{type:"title",label:"\u8BBE\u7F6E"},...l.value.map(({type:u,text:_,icon:c,color:g,key:T},A)=>({type:u,text:_,icon:c,color:g,key:T,selected:t.value===A}))]),d=u=>{switch(u){case"user":case"security":case"style":case"about":case"help":const _=a(u).idx;t.value=_;break}},x=h(()=>l.value.map(({key:u,text:_,comp:c})=>({key:u,title:_,comp:c})));return(u,_)=>(m(),v("div",Oe,[i("div",{class:"w-48 flex-shrink-0 flex flex-col",style:w({backgroundColor:e(o).backgroundColorTertiary})},[i("div",Le,[i("div",qe,[n(e(K),{model:e(r),onOnSelect:d},null,8,["model"])])]),n(ce)],4),i("div",{class:"flex-1 overflow-hidden relative",style:w({backgroundColor:e(o).backgroundColorSecondary})},[n(Ie,{current:t.value,model:e(x)},null,8,["current","model"])],4)]))}});export{Je as default};
