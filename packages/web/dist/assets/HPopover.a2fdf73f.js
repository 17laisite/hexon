import{r as v,P as d,f as h,a7 as E,d as B,$ as P,Q as S,ac as H,aj as j,a1 as z,a as L,o as g,g as N,v as V,w as I,b as y,j as M,e as x,l as m,s as A,A as O,C as T}from"./vendor.a0f19e68.js";import{c as D,u as F,h as Q}from"./index.c1b12cec.js";import{u as U,g as X}from"./HDivider.188cc5f6.js";function Y(o,e,s){let a=0,t=0,l={top:0,left:0,bottom:0,right:0};switch(o){case"top-left":a=e.left,t=e.top-s.height,l.bottom=4;break;case"top":a=e.left+e.width/2-s.width/2,t=e.top-s.height,l.bottom=4;break;case"top-right":a=e.left+e.width-s.width,t=e.top-s.height,l.bottom=4;break;case"right-top":a=e.left+e.width,t=e.top,l.left=4;break;case"right":a=e.left+e.width,t=e.top+e.height/2-s.height/2,l.left=4;break;case"right-bottom":a=e.left+e.width,t=e.top+e.height-s.height,l.left=4;break;case"bottom-left":a=e.left,t=e.top+e.height,l.top=4;break;case"bottom":a=e.left+e.width/2-s.width/2,t=e.top+e.height,l.top=4;break;case"bottom-right":a=e.left+e.width-s.width,t=e.top+e.height,l.top=4;break;case"left-top":a=e.left-s.width,t=e.top,l.right=4;break;case"left":a=e.left-s.width,t=e.top+e.height/2-s.height/2,l.right=4;break;case"left-bottom":a=e.left-s.width,t=e.top+e.height-s.height,l.right=4;break}return{x:a,y:t,margin:l}}function _(o){const e=v({left:0,top:0,height:0,width:0});return q(o,e),G(o,e),J(o,e),e}function q(o,e){d(()=>h(o),s=>{!s||(e.value=w(s))},{immediate:!0})}function G(o,e){U(o,()=>{!o.value||(e.value=w(o.value))})}function J(o,e){const s=new Map,a=()=>{for(const[,t]of s)t();s.clear()};d(()=>h(o.value),t=>{if(a(),!t)return;const l=new Set;let u=t;for(;u=X(u),u!==null;)l.add(u);for(const i of[...l,window]){const f=()=>{!o.value||(e.value=w(o.value))};i.addEventListener("resize",f),s.set(f,()=>{i.removeEventListener("resize",f)})}},{immediate:!0}),E(()=>{a()})}function w(o){const{left:e,top:s,height:a,width:t}=o.getBoundingClientRect();return{left:e,top:s,height:a,width:t}}const K=B({props:{show:{type:Boolean,default:!1},position:{default:"top"},persistent:{type:Boolean,default:!1},trigger:{default:"click"},raw:{type:Boolean,default:!1},duration:null},emits:["update:show"],setup(o,{emit:e}){const s=o,{show:a}=P(s),t=v(!1);d(()=>a.value,r=>{t.value=r}),d(()=>t.value,r=>{e("update:show",r)});const l=T(),u=v(null),i=v(null);S(()=>{var r;u.value=(r=l==null?void 0:l.proxy)==null?void 0:r.$el.parentNode}),H(u,"click",()=>{t.value=!t.value});const f=j(u);d(()=>f.value,r=>{s.trigger==="hover"&&(t.value=r)});const $=_(u),C=_(i);z(i,()=>{t.value&&!s.persistent&&(t.value=!1)});const n=F(),b=L(()=>{const{x:r,y:k,margin:p}=Y(s.position,$.value,C.value);return{outer:{transform:`translateX(${r}px) translateY(${k}px)`},inner:{margin:`${p.top}px ${p.right}px ${p.bottom}px ${p.left}px`}}});return(r,k)=>(g(),N(O,{to:"body"},[V(Q,{duration:o.duration},{default:I(()=>[t.value?(g(),y("div",{key:0,class:"popover",ref_key:"contentElRef",ref:i,style:m(h(b).outer)},[M("div",{style:m(h(b).inner)},[o.raw?x(r.$slots,"default",{key:0},void 0,!0):(g(),y("div",{key:1,class:"p-1 rounded-md text-sm",style:m({backgroundColor:h(n).backgroundColorPop,color:h(n).textColorPop})},[x(r.$slots,"default",{},void 0,!0)],4))],4)],4)):A("",!0)]),_:3},8,["duration"])]))}});var R=D(K,[["__scopeId","data-v-051adf87"]]);export{R as H};
